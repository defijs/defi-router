!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.defiRouter=t():e.defiRouter=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=18)}([function(e,t,r){"use strict";function n(){}for(var o,a=n.prototype,i={get:function(e){return e.defi},set:function(e,t){Object.defineProperty(e,"defi",{value:t,enumerable:!1,writable:!1,configurable:!1})},has:function(e){return"defi"in e}},c=Object.keys(i),s=c.length,l=0;l<s;l++)a[o=c[l]]=i[o];e.exports="undefined"==typeof WeakMap?new n:new WeakMap},function(e,t,r){"use strict";var n=r(2);e.exports=function(e,t){var r=null===e?"null":typeof e;if("object"!==r&&"function"!==r)throw n("common:object_type",{object:e,method:t})}},function(e,t,r){"use strict";var n=function(e,t,r){return t+' must have type "'+r+'" but got "'+function(e){return null===e?"null":typeof e}(e)+'" instead.'},o={"common:object_type":function(e){var t=e.object;return"Error in "+e.method+": "+n(t,"object","object")},"binding:node_missing":function(e){var t=e.key,r=e.node;return'Binding error: node is missing for key "'+t+'"'+("string"==typeof r?' (given selector is "'+r+'")':"")+"."},"binding:falsy_key":function(){return'Binding error: "key" arg cannot be falsy'},"calc:target_type":function(e){var t=e.target;return"Calc error: "+n(t,"target key","string")},"calc:source_key_type":function(e){var t=e.sourceKey;return"Calc error: "+n(t,"source key","string")},"calc:source_object_type":function(e){var t=e.sourceObject;return"Calc error: "+n(t,"source object","object")},"calc:source_type":function(e){var t=e.source;return"Calc error: "+n(t,"source","object")},"trigger:names_type":function(e){var t=e.names;return"Events error: "+n(t,"event name","string")},"on:names_type":function(e){var t=e.names;return o["trigger:names_type"]({names:t})},"removedatakeys:key_type":function(e){var t=e.key;return"Error in removeDataKeys: "+n(t,"key","string")},"adddatakeys:key_type":function(e){var t=e.key;return"Error in addDataKeys: "+n(t,"key","string")},"remove:key_type":function(e){var t=e.key;return"Error in remove: "+n(t,"key","string")},"mediate:key_type":function(e){var t=e.key;return"Error in mediate: "+n(t,"key","string")}};e.exports=function(e,t){var r=o[e];if(!r)throw Error('Unknown error "'+e+'". Please report about this on Github.');return new Error(r(t))}},function(e,t,r){"use strict";var n=r(0);function o(e,t,r){var a=n.get(e),i=a&&a.events[t];if(i){var c=i.length,s=0;if(r instanceof Array)for(;s<c;){(o.latestEvent=i[s]).callback.apply(e,r),s+=1}else for(;s<c;){(o.latestEvent=i[s]).callback.call(e,r),s+=1}}}e.exports=o,o.latestEvent={info:{},name:null}},function(e,t,r){"use strict";var n=r(5),o=r(3),a=r(6),i=r(8),c=/^_change:deps:|^_change:bindings:|^_change:delegated:|^_change:common:|^_change:tree:|^change:|^beforechange:/;e.exports=function(e,t,s){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=n(e).events,f=u[t],v={callback:s,name:t,info:l},h=l.skipChecks,p=void 0!==h&&h;if(!p){var d=i.exec(t);if(d){var g=d[1],b=d[2],y=d[3],m=r(23);return m(e,b,g,y,s,l),!0}}if(f){if(!p)for(var k=0;k<f.length;k++){var j=f[k],x=s&&s._callback||s,_=j.callback._callback||j.callback;if(x===_)return!1}f.push(v)}else u[t]=[v];c.test(t)&&a(e,t.replace(c,""));p||"_"===t[0]||(o(e,"addevent:"+t,v),o(e,"addevent",v));return!0}},function(e,t,r){"use strict";var n=r(0),o=0;e.exports=function(e){var t=n.get(e);t||(t={events:{},props:{},id:o},o+=1,n.set(e,t));return t}},function(e,t,r){"use strict";var n=r(0),o=r(7);e.exports=function(e,t,r){var a=n.get(e);if(!a)return null;if(!a.props[t]){var i=a.props[t]={value:e[t],mediator:null,bindings:null};r||Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return i.value},set:function(r){return o(e,t,r,{fromSetter:!0})}})}return a.props[t]}},function(e,t,r){"use strict";var n=r(0),o=r(3),a=r(1),i=r(22);e.exports=function e(t,r,c,s){a(t,"set");if(!r)return t;if("object"==typeof r){for(var l,u,f=r,v=Object.keys(f),h=0,p=v.length;l=v[h],u=f[l],h<p;h++)e(t,l,u,c);return t}s=s||{};var d=n.get(t);if(!d)return t[r]=c,t;var g=d.props,b=d.events;var y=g[r];if(!y)return t[r]=c,t;var m=y.value,k=y.mediator;var j=s,x=j.skipMediator,_=j.fromMediator,w=j.force,O=j.forceHTML,E=j.silent,S=j.silentHTML,P=j.skipCalc;var A=void 0;A=!k||i(c,m)||x||_?c:k(c);var M=!i(A,m);var C,H,K,T,D,I={};for(T=s,C=Object.keys(T),H=C.length,K=0;K<H;K++)D=C[K],I[D]=T[D];I.value=A;I.self=t;I.previousValue=m;I.key=r;I.isChanged=M;var $=I;var L=(M||w)&&!E;if(L){var N="beforechange:"+r;b[N]&&o(t,N,$),b.beforechange&&o(t,"beforechange",$)}y.value=A;if(!S&&(M||O)){var V="_change:bindings:"+r;b[V]&&o(t,V,$)}if(L){var q="change:"+r;b[q]&&o(t,q,$),b.change&&o(t,"change",$)}if((M||w)&&!P){var z="_change:deps:"+r;b[z]&&o(t,z,$)}if(M){var B="_change:delegated:"+r;b[B]&&o(t,B,$);var R="_change:tree:"+r;b[R]&&o(t,R,$);var W="_change:common:"+r;b[W]&&o(t,W,$);b["_change:delegated"]&&o(t,"_change:delegated",$)}return t}},function(e,t,r){"use strict";e.exports=/([^::]+)::([^()]+)?(?:\((.*)\))?/},function(e,t,r){"use strict";var n=r(10),o=r(24),a=r(25),i=r(26),c=r(27),s=r(28);function l(e,t){return new n(e,t)}e.exports=l,l.parseHTML=o,s(n.prototype,{on:a,off:i,add:c})},function(e,t,r){"use strict";var n=r(17),o=window;function a(e,t){var r=void 0;if(e)if(e.nodeType||"object"==typeof o&&e===o)r=[e];else if("string"==typeof e)if(/</.test(e))r=n(e);else if(t){var i=new a(t)[0];i&&(r=i.querySelectorAll(e))}else r=o.document.querySelectorAll(e);else r="length"in e?e:[e];var c=r&&r.length;if(c)for(var s=0;s<c;s++)this.push(r[s])}a.prototype=[],e.exports=a},function(e,t,r){"use strict";e.exports={nodeIndex:0,allEvents:{}}},function(e,t,r){"use strict";var n=r(4),o=r(31);e.exports=function(e,t,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c="string"==typeof t&&""!==t?t.split("."):t;if(c&&c.length){var s=c[0],l=void 0;if(c.length>1){for(var u=c,f=u.length,v=1,h=f,p=0,d=Array(h-v);v<h;)d[p++]=u[v++];l=(c=d).join(".")}else l=(c=[])[0]||"";var g={path:c,name:r,callback:a,info:i,object:e};n(e,"_change:delegated:"+s,o,{delegatedData:g,pathStr:l}),o({value:e[s]},g)}else n(e,r,a,i)}},function(e,t,r){"use strict";var n=r(0),o=r(14);e.exports=function e(t,r,a,i){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var s=n.get(t);if(!s)return;var l=s.events;var u="string"==typeof r&&""!==r?r.split("."):r;if(u&&u.length){var f=u[0],v=void 0;if(u.length>1){for(var h=u,p=h.length,d=1,g=p,b=0,y=Array(g-d);d<g;)y[b++]=h[d++];v=(u=y).join(".")}else v=(u=[])[0]||"";var m="_change:delegated:"+f;l[m]&&function(e){for(var t,r=e.delegatedEventName,n=e.pathStr,o=e.allEvents,a=[],i=o[r],c=0,s=i.length;t=i[c],c<s;c++)t.info.pathStr!==n&&a.push(t);a.length?o[r]=a:delete o[r]}({delegatedEventName:m,pathStr:v,allEvents:l}),"object"==typeof t[f]&&e(t[f],u,a,i,c)}else o(t,a,i,c)}},function(e,t,r){"use strict";var n=r(0),o=r(3),a=r(8);e.exports=function(e,t,i,c){var s=n.get(e);if(!s)return!1;var l=s.events,u=l[t],f=[],v=!!t&&"_"===t[0],h=a.exec(t);if(h){var p=h[1],d=h[2],g=h[3],b=r(32);return b(e,d,p,g,i,c),!0}if(void 0===t){if(!v)for(var y,m,k=l,j=Object.keys(k),x=0,_=j.length;y=j[x],m=k[y],x<_;x++)for(var w=m,O=0,E=w.length;P=w[O],O<E;O++){var S={allEventsName:y,callback:P.callback};o(e,"removeevent:"+t,S),o(e,"removeevent",S)}s.events={}}else if(u){for(var P,A=u,M=0,C=A.length;P=A[M],M<C;M++){var H=i&&i._callback||i,K=P.callback._callback||P.callback;if(H&&H!==K)f.push(P);else{var T={name:t,callback:P.callback};v||(o(e,"removeevent:"+t,T),o(e,"removeevent",T))}}f.length?l[t]=f:delete s.events[t]}return!1}},function(e,t,r){"use strict";e.exports=/\s+(?![^(]*\))/g},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=void 0,o=void 0;"number"!=typeof t?(r=t,o=0):o=t||0;return function(){var t=arguments,a=r||this;clearTimeout(n),n=setTimeout(function(){return e.apply(a,t)},o)}}},function(e,t,r){"use strict";e.exports=function(e){var t={option:[1,'<select multiple="multiple">',"</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_:[0,"",""]},r=e.replace(/^\s+|\s+$/g,""),n=window.document.createElement("div"),o=void 0;t.optgroup=t.option,t.tbody=t.tfoot=t.colgroup=t.caption=t.thead,t.th=t.td;var a=/<([\w:]+)/.exec(r),i=a&&t[a[1]]||t._;n.innerHTML=i[1]+r+i[2],o=i[0];for(;o;)o-=1,n=n.children[0];return n.childNodes}},function(e,t,r){var n=r(19);e.exports=function(e,t,r){return n[r||"hash"].subscribe(e,t),e}},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(20),i=r(36),c=r(38),s=r(7);function l(e){s(e,"hashPath",window.location.hash,{hashEvent:!0})}function u(e){s(e,"path",window.location.pathname,{popEvent:!0})}var f=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"parts",[]),o(this,"path","/"),o(this,"hashPath","!#/"),t in e?e[t]:(this.type=t,this)}var t,r,f;return t=e,(r=[{key:"init",value:function(){var e=this;if(this.initialized)return this;var t=this.type;if(a(this,{parts:{source:"path",handler:function(e){var t=e.replace(/\/\//g,"/").replace(/^\/|\/$/g,"");return t?t.split("/"):[]}},path:{source:"parts",handler:function(e){for(var t=[],r=0;r<e.length&&e[r];r++)t.push(e[r]);return t.length?"/".concat(t.join("/"),"/"):"/"}}},{debounceCalc:!1}),a(this,{hashPath:{source:"path",handler:function(e){return e&&"/"!==e?"#!".concat(e):""}},path:{source:"hashPath",handler:function(e){return e?e.replace(/^#!/,""):""}}},{debounceCalc:!1}),i(this,"change:parts",function(t){var r=t.value,n=t.previousValue,o=r.length===n.length;if(o)for(var a=0;a<r.length;a++)if(r[a]!==n[a]){o=!1;break}o||c(e,"pathchange")}),"undefined"!=typeof window){var r=window,n=r.history,o=r.location;"hash"===t?(l(this),window.addEventListener("hashchange",function(){return l(e)}),i(this,"change:hashPath",function(t){t&&t.hashEvent||(o.hash=e.hashPath)},{triggerOnInit:!0,debounce:!0})):"history"===t&&(u(this),window.addEventListener("popstate",function(t){t.state&&t.state.validPush&&u(e)}),i(this,"change:path",function(t){t&&t.popEvent||n.pushState({validPush:!0},"",e.path+o.hash)},{triggerOnInit:!0,debounce:!0}))}return this.initialized=!0,this}},{key:"subscribe",value:function(e,t){var r=this,n=t.replace(/\/\//g,"/").replace(/^\/|\/$/g,"").split("/"),o=[],a=n.filter(function(e){return"*"!==e}),c=[];this.init();for(var l=0;l<a.length;l++){var u=a[l];o.push("change:".concat(u))}i(e,o,function(t){if(!t||!t.routeSilent){for(var o=[],a=0;a<n.length;a++){var i="*"===n[a]?r.parts[a]:e[n[a]];if(!i)break;o.push(i)}r.parts=o}});for(var f=0;f<n.length;f++)c.push("*"===e[n[f]]?this.parts[f]:e[n[f]]||this.parts[f]);for(var v=0;v<n.length;v++)void 0===e[n[v]]&&this.parts[v]&&"*"!==n[v]&&s(e,n[v],this.parts[v],{routeSilent:!0});return i(this,"pathchange",function(){for(var t=0;t<n.length;t++)"*"!==n[t]&&s(e,n[t],r.parts[t]||null,{routeSilent:!0})}),this.parts=c,this}}])&&n(t.prototype,r),f&&n(t,f),e}();f.history=new f("history"),f.hash=new f("hash"),e.exports=f},function(e,t,r){"use strict";var n=r(5),o=r(1),a=r(2),i=r(16),c=r(21),s=r(34),l=r(6);e.exports=function e(t,r,u,f,v){o(t,"calc");if(r instanceof Object){for(var h,p,d=r,g=Object.keys(d),b=0,y=g.length;h=g[b],p=d[h],b<y;b++){var m=p.source,k=p.handler,j=p.event,x=u,_={};if(x)for(var w,O=_,E=x,S=Object.keys(E),P=S.length,A=0;A<P;A++)w=S[A],O[w]=E[w];if(j)for(var M,C=_,H=j,K=Object.keys(H),T=K.length,D=0;D<T;D++)M=K[D],C[M]=H[M];e(t,h,m,k,_)}return t}if("string"!=typeof r)throw a("calc:target_type",{target:r});v=v||{};var I=n(t);var $=v,L=$.setOnInit,N=void 0===L||L,V=$.debounceCalcOnInit,q=void 0!==V&&V,z=$.debounceCalc,B=void 0===z||z,R=$.debounceCalcDelay,W=void 0===R?0:R,G=$.isTargetPropertyHidden,U=void 0!==G&&G;var F=f||function(e){return e};var J=[];var Q=s({object:t,eventOptions:v,allSources:J,target:r,def:I,handler:F});var X=void 0;var Y=void 0;(q||B)&&(X=i(Q,W));l(t,r,U);u instanceof Array||(u=[u]);Y=B?X:Q;for(var Z,ee=u,te=0,re=ee.length;Z=ee[te],te<re;te++)if("string"==typeof Z)c({calcHandler:Y,allSources:J,sourceKey:Z,sourceObject:t,eventOptions:v});else{if(!Z||"object"!=typeof Z)throw a("calc:source_type",{source:Z});var ne=Z.key,oe=Z.object;if(ne instanceof Array)for(var ae,ie=ne,ce=0,se=ie.length;ae=ie[ce],ce<se;ce++)c({calcHandler:Y,allSources:J,sourceKey:ae,sourceObject:oe,eventOptions:v});else c({calcHandler:Y,allSources:J,sourceKey:ne,sourceObject:oe,eventOptions:v})}N&&(q?X():Q());return t}},function(e,t,r){"use strict";var n=r(4),o=r(30),a=r(2);e.exports=function(e){var t=e.calcHandler,r=e.allSources,i=e.sourceKey,c=e.sourceObject,s=e.eventOptions.exactKey,l=void 0!==s&&s,u=!1;if("string"!=typeof i)throw a("calc:source_key_type",{sourceKey:i});if(!c||"object"!=typeof c)throw a("calc:source_object_type",{sourceObject:c});if(!l){var f=i.split(".");f.length>1?(u=!0,o(c,f,t)):l=!0}l&&n(c,"_change:deps:"+i,t);r.push({sourceKey:i,sourceObject:c,isDelegated:u})}},function(e,t,r){"use strict";e.exports=Object.is||function(e,t){return 0===e&&0===t?1/e==1/t:e!=e&&t!=t||e===t}},function(e,t,r){"use strict";var n=r(5),o=r(6),a=r(4),i=r(9),c=r(29);e.exports=function(e,t,r,s,l,u){var f=n(e),v=o(e,t),h=c({key:t,object:e,callback:l});h._callback=l;var p=f.id+t,d=function(e){var t=e.fullEventName,r=e.domEventHandler,n=e.selector;return{bindHandler:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).node;e&&i(e).on(t,n,r)},unbindHandler:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).node;e&&i(e).off(t,n,r)}}}({fullEventName:r+"."+p,domEventHandler:h,selector:s}),g=d.bindHandler,b=d.unbindHandler,y=a(e,"bind:"+t,g,u),m=a(e,"unbind:"+t,b,u);if(y&&m){var k=v.bindings;if(k)for(var j,x=k,_=0,w=x.length;j=x[_],_<w;_++){var O=j.node;return g({node:O})}}return e}},function(e,t,r){"use strict";var n=r(17),o=r(10);e.exports=function(e){return new o(n(e))}},function(e,t,r){"use strict";var n=r(11),o=/\s+/,a=/\.(.+)/,i=Math.random().toString().replace("0.","x")+"y";e.exports=function(e,t,r){var c=e.split(o),s=void 0;"function"==typeof t&&(r=t,t=null);t&&(s=function(e){(function(e,t,r){for(var n="["+i+'="'+i+'"] ',o=t.split(","),a="",c=0;c<o.length;c++){var s=o[c];a+=(0===c?"":",")+n+s+","+n+s+" *"}this.setAttribute(i,i),function(e,t){return(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector).call(e,t)}(e.target,a)&&r.call(this,e),this.removeAttribute(i)}).call(this,e,t,r)});for(var l=0;l<c.length;l++)for(var u=c[l].split(a),f=u[0],v=u[1],h=0;h<this.length;h++){for(var p=this[h],d=p.b$=p.b$||++n.nodeIndex,g=n.allEvents[f+d]=n.allEvents[f+d]||[],b=!1,y=0;y<g.length;y++){var m=g[y];if(r===m.handler&&(!t||t===m.selector)){b=!0;break}}b||(g.push({delegate:s,handler:r,namespace:v,selector:t,nodeID:d,name:f}),p.addEventListener(f,s||r,!1))}return this}},function(e,t,r){"use strict";var n=r(11),o=/\s+/,a=/\.(.+)/;e.exports=function(e,t,r){"function"==typeof t&&(r=t,t=null);for(var i=e.split(o),c=0;c<i.length;c++)for(var s=i[c].split(a),l=s[0],u=s[1],f=0;f<this.length;f++){var v=this[f];if(l||!u){var h=n.allEvents[l+v.b$];if(h)for(var p=0;p<h.length;p++){var d=h[p];r&&r!==d.handler&&r!==d.delegate||u&&u!==d.namespace||t&&t!==d.selector||(v.removeEventListener(l,d.delegate||d.handler),h.splice(p,1),p-=1)}else u||t||v.removeEventListener(l,r)}else for(var g=0,b=Object.keys(n.allEvents);g<b.length;g++)for(var y=n.allEvents[b[g]],m=0;m<y.length;m++){var k=y[c];k.namespace===u&&k.nodeID===v.b$&&(v.removeEventListener(k.name,k.delegate||k.handler),y.splice(m,1),m-=1)}}return this}},function(e,t,r){"use strict";var n=r(10),o=r(11);e.exports=function(e){var t={},r=void 0,a=new n(e);if(this.length){r=new n;for(var i=0;i<this.length;i++){var c=this[i],s=c.b$=c.b$||++o.nodeIndex;t[s]=1,r.push(c)}for(var l=0;l<a.length;l++){var u=a[l],f=u.b$=u.b$||++o.nodeIndex;t[f]||(t[f]=1,r.push(u))}}else r=a;return r}},function(e,t,r){"use strict";var n=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert variable to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o,a,i=n,c=Object.keys(i),s=0,l=c.length;a=i[o=c[s]],s<l;s++)t[o]=a}return t};e.exports=n},function(e,t,r){"use strict";e.exports=function(e){var t=e.key,r=e.object,n=e.callback;return function(e){var o=e.originalEvent||e,a=o.defiTriggerArgs,i=e.which,c=e.target,s=e.ctrlKey,l=e.altKey;a?n.apply(r,a):n.call(r,{self:r,node:this,preventDefault:function(){return e.preventDefault()},stopPropagation:function(){return e.stopPropagation()},key:t,domEvent:e,originalEvent:o,which:i,target:c,ctrlKey:s,altKey:l})}}},function(e,t,r){"use strict";var n=r(12),o=r(33);function a(e){var t=e.handler,r=e.restPath,n=function(e){var n,a,c,s,l,u={};for(u.restPath=r,s=e,a=(n=Object.keys(s)).length,c=0;c<a;c++)u[l=n[c]]=s[l];var f=u,v=e.previousValue,h=e.value;v&&"object"==typeof v&&o(v,r,t),h&&"object"==typeof h&&i(h,r,t),t.call(this,f)};return n._callback=t,n}function i(e,t,r){"string"==typeof t&&(t=t.split("."));for(var o=0;o<t.length;o++){var i=t.slice(0,o),c=t.slice(o+1);n(e,i,"_change:tree:"+t[o],a({handler:r,restPath:c}))}}e.exports=i},function(e,t,r){"use strict";var n=r(13),o=r(3);e.exports=function(e){var t=e.previousValue,a=e.value,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.latestEvent.info.delegatedData,c=i.path,s=i.name,l=i.callback,u=i.info;if(a&&"object"==typeof a){var f=r(12);f(a,c,s,l,u)}t&&"object"==typeof t&&n(t,c,s,l,u)}},function(e,t,r){"use strict";var n=r(0),o=r(14),a=r(9);e.exports=function(e,t,r,i,c,s){var l=n.get(e);if(!l)return e;var u=l.props[t];if(!u)return e;var f=u.bindings;if(f){for(var v,h=Array(f.length),p=l.id+t,d=f,g=0,b=d.length;v=d[g],g<b;g++)h[g]=v.node;a(h).off(r+"."+p,i,c)}return o(e,"bind:"+t,c,s),o(e,"unbind:"+t,c,s),e}},function(e,t,r){"use strict";var n=r(13);e.exports=function(e,t,r){"string"==typeof t&&(t=t.split("."));for(var o=0;o<t.length;o++){var a=t.slice(0,o);n(e,a,"_change:tree:"+t[o],r)}}},function(e,t,r){"use strict";var n=r(7),o=r(35);e.exports=function(e){var t=e.object,r=e.eventOptions,a=e.allSources,i=e.target,c=e.def,s=e.handler;return function(){var e,l,u,f,v,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=[],d=h.protector,g=void 0===d?{}:d,b=i+c.id,y=r.promiseCalc,m={};for(m.protector=g,f=r,e=Object.keys(f),l=e.length,u=0;u<l;u++)v=e[u],m[v]=f[v];for(f=h,e=Object.keys(f),l=e.length,u=0;u<l;u++)v=e[u],m[v]=f[v];var k=m;if(!(b in g)){g[b]=!0;for(var j,x=a,_=0,w=x.length;j=x[_],_<w;_++){var O=j.sourceObject,E=j.sourceKey,S=j.isDelegated,P=S?o(O,E):O[E];p.push(P)}var A=s.apply(t,p);y?(A instanceof Promise||(A=Promise.resolve(A)),A.then(function(e){return n(t,i,e,k)}).catch(function(e){throw Error(e)})):n(t,i,A,k)}}}},function(e,t,r){"use strict";e.exports=function(e,t){for(var r="string"==typeof t?t.split("."):t,n=e,o=0;o<r.length;++o){if(void 0===n[r[o]])return;n=n[r[o]]}return n}},function(e,t,r){"use strict";var n=r(15),o=r(1),a=r(2),i=r(37),c=r(16),s=r(4),l=r(12);e.exports=function e(t,r,u,f){o(t,"on");var v=r instanceof Array;if(r&&"object"==typeof r&&!v){for(var h,p,d=r,g=Object.keys(d),b=0,y=g.length;h=g[b],p=d[h],b<y;b++)e(t,h,p,u,f);return t}if("string"!=typeof r&&!v)throw a("on:names_type",{names:r});var m=v?r:r.split(n);var k=f||{},j=k.triggerOnInit,x=k.once,_=k.debounce;var w=void 0;x?(w=function e(){u.apply(this,arguments),i(t,m,e)})._callback=u:w="number"==typeof _||!0===_?c(u,!0===_?0:_,t):u;for(var O,E=m,S=0,P=E.length;O=E[S],S<P;S++){var A=O.split("@");if(A.length>1){var M=A[0],C=A[1];l(t,M,C,w)}else s(t,O,w)}j&&w.call(t,f);return t}},function(e,t,r){"use strict";var n=r(15),o=r(1),a=r(0),i=r(14),c=r(13),s=r(9);e.exports=function e(t,r,l){o(t,"off");var u=r instanceof Array;var f=a.get(t);if(r&&"object"==typeof r&&!u){for(var v,h,p=r,d=Object.keys(p),g=0,b=d.length;v=d[g],h=p[v],g<b;g++)e(t,v,h,l);return t}if(!r&&!l){f.events={};for(var y,m,k=f.props,j=Object.keys(k),x=0,_=j.length;y=j[x],m=k[y],x<_;x++){var w=m.bindings;if(w)for(var O,E=w,S=0,P=E.length;O=E[S],S<P;S++){var A=O.node,M=f.id+y;s(A).off("."+M)}}return t}var C=u?r:r.split(n);for(var H,K=C,T=0,D=K.length;H=K[T],T<D;T++){var I=H.split("@");if(I.length>1){var $=I[0],L=I[1];c(t,$,L,l)}else i(t,H,l)}return t}},function(e,t,r){"use strict";var n=r(8),o=r(1),a=r(2),i=r(15),c=r(0),s=r(3),l=r(39);e.exports=function(e,t){for(var r=arguments.length,u=Array(r>2?r-2:0),f=2;f<r;f++)u[f-2]=arguments[f];o(e,"trigger");var v=void 0;if("string"!=typeof t)throw a("trigger:names_type",{names:t});v=t.split(i);var h=c.get(e);if(!h)return e;if(!h.events)return e;for(var p,d=v,g=0,b=d.length;p=d[g],g<b;g++){var y=n.exec(p);if(y){var m=y[1],k=y[2],j=y[3];l(e,k,m,j,u)}else s(e,p,u)}return e}},function(e,t,r){"use strict";var n=r(40),o=r(0);e.exports=function(e,t,r,a,i){var c=o.get(e);if(!c)return;var s=c.props[t];if(!s)return;var l=s.bindings;if(!l)return;for(var u,f=l,v=0,h=f.length;u=f[v],v<h;v++){var p=u.node;if(a)for(var d,g=p.querySelectorAll(a),b=g,y=0,m=b.length;d=b[y],y<m;y++)n({node:d,eventName:r,triggerArgs:i});else n({node:p,eventName:r,triggerArgs:i})}}},function(e,t,r){"use strict";e.exports=function(e){var t=e.node,r=e.eventName,n=e.triggerArgs,o=new(0,window.Event)(r,{bubbles:!0,cancelable:!0});o.defiTriggerArgs=n,t.dispatchEvent(o)}}])});
//# sourceMappingURL=defi-router.min.js.map