{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///../../src/_core/defs.js","webpack:///../src/set.js","webpack:///../../src/on/index.js","webpack:///../../src/_helpers/checkobjecttype.js","webpack:///../../src/_helpers/defierror.js","webpack:///../../src/trigger/_triggerone.js","webpack:///../../src/on/_addlistener.js","webpack:///../../src/_core/init.js","webpack:///../../src/_core/defineprop.js","webpack:///../../src/on/_domeventregexp.js","webpack:///../../src/_mq/index.js","webpack:///../../src/_mq/_init.js","webpack:///../../src/_mq/_data.js","webpack:///../../../src/on/_delegatelistener/index.js","webpack:///../../src/off/_undelegatelistener.js","webpack:///../../src/off/_removelistener.js","webpack:///../../src/on/_splitbyspaceregexp.js","webpack:///../../src/calc/index.js","webpack:///../../src/_helpers/debounce.js","webpack:///../../src/_mq/_html2nodelist.js","webpack:///../../src/trigger/index.js","webpack:///./src/index.js","webpack:///./src/router.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///../../src/calc/_addsource.js","webpack:///../../src/_helpers/is.js","webpack:///../../src/on/_adddomlistener.js","webpack:///../../src/_mq/parsehtml.js","webpack:///../../src/_mq/on.js","webpack:///../../src/_mq/off.js","webpack:///../../src/_mq/add.js","webpack:///../../src/_helpers/assign.js","webpack:///../../src/on/_createdomeventhandler.js","webpack:///../../src/on/_addtreelistener.js","webpack:///../../../src/on/_delegatelistener/changehandler.js","webpack:///../../src/off/_removedomlistener.js","webpack:///../../src/off/_removetreelistener.js","webpack:///../../src/calc/_createcalchandler.js","webpack:///../../src/_helpers/deepfind.js","webpack:///../../src/off/index.js","webpack:///../../src/trigger/_triggerdomevent.js","webpack:///../../src/trigger/_triggeronedomevent.js"],"names":["root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","PseudoMap","obj","defi","set","data","writable","configurable","has","WeakMap","eventOptions","checkObjectType","objKey","objVal","_target","_keys","keys","_i","_l","length","def","defs","props","events","propDef","previousValue","mediator","_eventOptions","skipMediator","fromMediator","force","forceHTML","silent","silentHTML","skipCalc","newValue","is","isChanged","_keys2","_l2","_i2","_source","_key","_result","self","extendedEventOptions","triggerChange","beforechangeEventName","beforechangeStr","triggerOne","changeBindingsEventName","changeEventName","changeStr","changeDepsEventName","changeDelegatedKeyEventName","changeTreeEventName","changeCommonEventName","on","givenNames","givenCallback","options","isNamesVarArray","Array","namesObjName","namesObjCallback","defiError","names","splitBySpaceReg","_ref","triggerOnInit","once","debounceOption","debounce","callback","onceCallback","off","_target2","_index","delegatedEventParts","path","delegatedName","delegateListener","addListener","method","typeofObject","getTypeError","variable","variableName","expectedType","getType","errors","common:object_type","binding:node_missing","_ref2","node","bindingErrorPrefix","binding:falsy_key","calc:target_type","_ref3","target","calcErrorPrefix","calc:source_key_type","_ref4","sourceKey","calc:source_object_type","_ref5","sourceObject","calc:source_type","_ref6","source","trigger:names_type","_ref7","eventsErrorPrefix","on:names_type","_ref8","removedatakeys:key_type","_ref9","adddatakeys:key_type","_ref10","remove:key_type","_ref11","mediate:key_type","_ref12","getError","Error","triggerArgs","info","propModEventReg","arguments","undefined","allEvents","initDefi","event","_info$skipChecks","skipChecks","domEventExecResult","domEventReg","eventName","selector","addDomListener","require","existingEvent","argCallback","_callback","eventCallback","defineProp","objectId","id","noAccessor","bindings","v","fromSetter","mq","context","Init","assign","add","win","MQInit","result","test","html2nodeList","newContext","this","push","nodeIndex","givenPath","pathStr","_end","_j","delegatedData","changeHandler","undelegateListener","delegatedChangeEvtName","delegatedEventName","retain","detatchDelegatedLogic","removeListener","noTrigger","removeDomListener","allEventsName","allEventsItem","removeEventData","_target3","_index2","_l3","calc","sources","givenHandler","itemTarget","_keys5","_i5","_l5","itemSource","itemHandler","handler","itemEventOptions","commonEventOptions","mergedEventOptions","_key2","_source2","_key4","_result2","_source4","_keys4","_l4","_i4","_eventOptions$setOnIn","setOnInit","_eventOptions$debounc","debounceCalcOnInit","_eventOptions$debounc2","debounceCalc","_eventOptions$debounc3","debounceCalcDelay","_eventOptions$isTarge","isTargetPropertyHidden","allSources","syncCalcHandler","createCalcHandler","debouncedCalcHandler","calcHandler","_l7","addSource","sourceKeyItem","_l6","func","givenDelay","thisArg","timeout","delay","args","callContext","clearTimeout","setTimeout","givenHTML","wrapMap","option","legend","thead","tr","td","col","area","_","html","ex","exec","wrapper","childNodes","_len","domEvtExecResult","triggerDomEvent","Router","route","type","subscribe","handleHashChange","router","location","hash","hashEvent","handlePopStateChange","pathname","popEvent","_classCallCheck","_defineProperty","_this","initialized","parts","fixed","replace","split","nonEmptyParts","concat","join","hashPath","evt","equals","trigger","_window","history","addEventListener","state","validPush","pushState","_this2","changeEvents","filteredKeys","filter","init","routeSilent","values","originalModule","webpackPolyfill","children","_eventOptions$exactKe","exactKey","isDelegated","deepPath","addTreeListener","v1","v2","domEventHandler","createDomEventHandler","eventNamespace","_createBindingHandler","fullEventName","bindHandler","$","unbindHandler","createBindingHandlers","addBindListenerResult","addUnbindListenerResult","splitByDotReg","randomID","Math","namesStr","delegate","scopeSelector","splittedSelector","matching","sel","setAttribute","oMatchesSelector","removeAttribute","delegateHandler","_names$i$split","namespace","j","nodeID","exist","k","b$","_k","idMap","nodes","_nodeID","TypeError","output","index","nextKey","nextValue","domEvent","originalEvent","defiTriggerArgs","which","ctrlKey","altKey","preventDefault","stopPropagation","createTreeListener","restPath","newHandler","changeEvent","extendedChangeEvent","removeTreeListener","listenPath","binding","listenedPath","_changeEvent$protecto","protector","protectKey","promiseCalc","setEventOptions","deepFind","targetValue","Promise","promiseResult","e","paths","current","propName","_target4","descendant","descendants","triggerOneDOMEvent","Event","bubbles","cancelable"],"mappings":"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","file":"defi-router.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n","function PseudoMap() {}\n\n// PseudoMap simulates WeakMap behavior with O(1) search complexity\n// it's needed to support @IE9 and @IE10\nnofn.assign(PseudoMap.prototype, {\n    get(obj) {\n        return obj.defi;\n    },\n    set(obj, data) {\n        Object.defineProperty(obj, 'defi', {\n            value: data,\n            enumerable: false,\n            writable: false,\n            configurable: false\n        });\n    },\n    has(obj) {\n        return 'defi' in obj;\n    }\n});\n\nexport default typeof WeakMap === 'undefined' ? new PseudoMap() : new WeakMap();\n","import defs from './_core/defs';\nimport triggerOne from './trigger/_triggerone';\nimport checkObjectType from './_helpers/checkobjecttype';\nimport is from './_helpers/is';\n\n// the function sets new value for a property\n// since its performance is very critical we're checking events existence manually\nexport default function set(object, key, value, eventOptions) {\n    // throw error when object type is wrong\n    checkObjectType(object, 'set');\n\n    // if no key or falsy key is given\n    if (!key) {\n        return object;\n    }\n\n    // allow to use key-value object as another method variation\n    if (typeof key === 'object') {\n        nofn.forOwn(key, (objVal, objKey) => set(object, objKey, objVal, value));\n        return object;\n    }\n\n    eventOptions = eventOptions || {}; // eslint-disable-line no-param-reassign\n    const def = defs.get(object);\n\n    // if no object definition then make simple assignment\n    if (!def) {\n        object[key] = value;\n        return object;\n    }\n\n    const { props, events } = def;\n    const propDef = props[key];\n\n    // if no property definition then make simple assignment\n    if (!propDef) {\n        object[key] = value;\n        return object;\n    }\n\n    const { value: previousValue, mediator } = propDef;\n\n    // possible flags, all of them are falsy by default\n    const {\n        skipMediator,\n        fromMediator,\n        force,\n        forceHTML,\n        silent,\n        silentHTML,\n        skipCalc\n    } = eventOptions;\n\n    let newValue;\n\n    if (mediator && !is(value, previousValue) && !skipMediator && !fromMediator) {\n        newValue = mediator(value);\n    } else {\n        newValue = value;\n    }\n\n    const isChanged = !is(newValue, previousValue);\n\n    // add to eventOptions object some useful properties\n    // we override default eventOptions because some of the properties need to have actual values,\n    // not inherited ones (eg when calc is used)\n    const extendedEventOptions = {\n        ...eventOptions,\n        value: newValue,\n        self: object,\n        previousValue,\n        key,\n        isChanged\n    };\n\n    const triggerChange = (isChanged || force) && !silent;\n\n    // trigger beforechange:KEY and beforechange events\n    if (triggerChange) {\n        const beforechangeStr = 'beforechange';\n        const beforechangeEventName = `${beforechangeStr}:${key}`;\n\n        if (events[beforechangeEventName]) {\n            triggerOne(object, beforechangeEventName, extendedEventOptions);\n        }\n\n        if (events[beforechangeStr]) {\n            triggerOne(object, beforechangeStr, extendedEventOptions);\n        }\n    }\n\n    propDef.value = newValue;\n\n    // triger bindings\n    if (!silentHTML && (isChanged || forceHTML)) {\n        const changeBindingsEventName = `_change:bindings:${key}`;\n        if (events[changeBindingsEventName]) {\n            triggerOne(object, changeBindingsEventName, extendedEventOptions);\n        }\n    }\n\n    // trigger change:KEY and change events\n    if (triggerChange) {\n        const changeStr = 'change';\n        const changeEventName = `${changeStr}:${key}`;\n        if (events[changeEventName]) {\n            triggerOne(object, changeEventName, extendedEventOptions);\n        }\n\n        if (events[changeStr]) {\n            triggerOne(object, changeStr, extendedEventOptions);\n        }\n    }\n\n    // trigger dependencies made by calc method\n    if ((isChanged || force) && !skipCalc) {\n        const changeDepsEventName = `_change:deps:${key}`;\n        if (events[changeDepsEventName]) {\n            triggerOne(object, changeDepsEventName, extendedEventOptions);\n        }\n    }\n\n\n    if (isChanged) {\n        // trigger common delegated events logic\n        const changeDelegatedKeyEventName = `_change:delegated:${key}`;\n        if (events[changeDelegatedKeyEventName]) {\n            triggerOne(object, changeDelegatedKeyEventName, extendedEventOptions);\n        }\n\n        // trigger tree change events logic\n        const changeTreeEventName = `_change:tree:${key}`;\n        if (events[changeTreeEventName]) {\n            triggerOne(object, changeTreeEventName, extendedEventOptions);\n        }\n\n        // trigger other internal change events\n        const changeCommonEventName = `_change:common:${key}`;\n        if (events[changeCommonEventName]) {\n            triggerOne(object, changeCommonEventName, extendedEventOptions);\n        }\n\n        // trigger delegated logic for asterisk events (*.*.*@foo)\n        // TODO: Confusing events names (\"_change:delegated\", \"_change:common:KEY\" etc)\n        const changeDelegatedEventName = '_change:delegated';\n        if (events[changeDelegatedEventName]) {\n            triggerOne(object, changeDelegatedEventName, extendedEventOptions);\n        }\n    }\n\n    return object;\n}\n","import splitBySpaceReg from './_splitbyspaceregexp';\nimport checkObjectType from '../_helpers/checkobjecttype';\nimport defiError from '../_helpers/defierror';\nimport off from '../off';\nimport debounce from '../_helpers/debounce';\nimport addListener from './_addlistener';\nimport delegateListener from './_delegatelistener';\n\n// adds event listener\nexport default function on(object, givenNames, givenCallback, options) {\n    // throw error when object type is wrong\n    checkObjectType(object, 'on');\n\n    const isNamesVarArray = givenNames instanceof Array;\n\n    // allow to pass name-handler object\n    if (givenNames && typeof givenNames === 'object' && !isNamesVarArray) {\n        nofn.forOwn(givenNames, (namesObjCallback, namesObjName) =>\n            on(object, namesObjName, namesObjCallback, givenCallback, options));\n        return object;\n    }\n\n    if (typeof givenNames !== 'string' && !isNamesVarArray) {\n        throw defiError('on:names_type', { names: givenNames });\n    }\n\n    // split by spaces\n    // TODO: Array of names passed to on method is a non-documented feature\n    const names = isNamesVarArray ? givenNames : givenNames.split(splitBySpaceReg);\n\n    const { triggerOnInit, once, debounce: debounceOption } = options || {};\n    let callback;\n    if (once) {\n        callback = function onceCallback() {\n            givenCallback.apply(this, arguments);\n            // remove event listener after its call\n            off(object, names, onceCallback);\n        };\n\n        // allow to remove event listener py passing original callback to \"off\"\n        callback._callback = givenCallback;\n    } else if (typeof debounceOption === 'number' || debounceOption === true) {\n        callback = debounce(givenCallback, debounceOption === true ? 0 : debounceOption, object);\n    } else {\n        callback = givenCallback;\n    }\n\n    nofn.forEach(names, (name) => {\n        const delegatedEventParts = name.split('@');\n\n        if (delegatedEventParts.length > 1) {\n            // if @ exists in event name then this is delegated event\n            const [path, delegatedName] = delegatedEventParts;\n            delegateListener(object, path, delegatedName, callback);\n        } else {\n            // if not, this is simple event\n            addListener(object, name, callback);\n        }\n    });\n\n    // call callback immediatelly if triggerOnInit is true\n    if (triggerOnInit) {\n        callback.call(object, options);\n    }\n\n    return object;\n}\n","import defiError from './defierror';\n\n// checks type of a variable and throws an error if its type is not an object\nexport default function checkObjectType(object, method) {\n    const typeofObject = object === null ? 'null' : typeof object;\n\n    if (typeofObject !== 'object' && typeofObject !== 'function') {\n        throw defiError('common:object_type', {\n            object,\n            method\n        });\n    }\n}\n","/* eslint-disable prefer-template, max-len */\nconst bindingErrorPrefix = 'Binding error:';\nconst calcErrorPrefix = 'Calc error:';\nconst eventsErrorPrefix = 'Events error:';\n\nconst getType = (variable) => {\n    if (variable === null) {\n        return 'null';\n    }\n\n    return typeof variable;\n};\nconst getTypeError = (variable, variableName, expectedType) =>\n    `${variableName} must have type \"${expectedType}\" but got \"${getType(variable)}\" instead.`;\n\nconst errors = {\n    'common:object_type': ({ object, method }) => `Error in ${method}: `\n        + getTypeError(object, 'object', 'object'),\n\n    'binding:node_missing': ({ key, node }) => {\n        const selectorInfo = typeof node === 'string' ? ` (given selector is \"${node}\")` : '';\n        return `${bindingErrorPrefix} node is missing for key \"${key}\"${selectorInfo}.`;\n    },\n    'binding:falsy_key': () => `${bindingErrorPrefix} \"key\" arg cannot be falsy`,\n    'calc:target_type': ({ target }) =>\n        `${calcErrorPrefix} ${getTypeError(target, 'target key', 'string')}`,\n    'calc:source_key_type': ({ sourceKey }) =>\n        `${calcErrorPrefix} ${getTypeError(sourceKey, 'source key', 'string')}`,\n    'calc:source_object_type': ({ sourceObject }) =>\n        `${calcErrorPrefix} ${getTypeError(sourceObject, 'source object', 'object')}`,\n    'calc:source_type': ({ source }) =>\n        `${calcErrorPrefix} ${getTypeError(source, 'source', 'object')}`,\n\n    'trigger:names_type': ({ names }) =>\n        `${eventsErrorPrefix} ${getTypeError(names, 'event name', 'string')}`,\n\n    'on:names_type': ({ names }) => errors['trigger:names_type']({ names }),\n\n    'removedatakeys:key_type': ({ key }) =>\n        `Error in removeDataKeys: ${getTypeError(key, 'key', 'string')}`,\n\n    'adddatakeys:key_type': ({ key }) =>\n        `Error in addDataKeys: ${getTypeError(key, 'key', 'string')}`,\n\n    'remove:key_type': ({ key }) =>\n        `Error in remove: ${getTypeError(key, 'key', 'string')}`,\n\n    'mediate:key_type': ({ key }) =>\n        `Error in mediate: ${getTypeError(key, 'key', 'string')}`\n};\n\nexport default function defiError(key, data) {\n    const getError = errors[key];\n    if (!getError) {\n        throw Error(`Unknown error \"${key}\". Please report about this on Github.`);\n    }\n\n    return new Error(getError(data));\n}\n","import defs from '../_core/defs';\n\n// triggers one event\nexport default function triggerOne(object, name, triggerArgs) {\n    const def = defs.get(object);\n    const events = def && def.events[name];\n\n    if (events) {\n        const l = events.length;\n        let i = 0;\n\n        // allow to pass both array of args and single arg as triggerArgs\n        if (triggerArgs instanceof Array) {\n            while (i < l) {\n                const event = triggerOne.latestEvent = events[i];\n                const { callback } = event;\n                callback.apply(object, triggerArgs);\n                i += 1;\n            }\n        } else {\n            while (i < l) {\n                const event = triggerOne.latestEvent = events[i];\n                const { callback } = event;\n                callback.call(object, triggerArgs);\n                i += 1;\n            }\n        }\n    }\n}\n\n// latestEvent is used as required hack in somemethods\ntriggerOne.latestEvent = {\n    info: {},\n    name: null\n};\n","import initDefi from '../_core/init';\nimport triggerOne from '../trigger/_triggerone';\nimport defineProp from '../_core/defineprop';\nimport domEventReg from './_domeventregexp';\n\n// property modifier event regexp\nconst propModEventReg // eslint-disable-next-line max-len\n    = /^_change:deps:|^_change:bindings:|^_change:delegated:|^_change:common:|^_change:tree:|^change:|^beforechange:/;\n\n// adds simple event listener\n// used as core of event engine\nexport default function addListener(object, name, callback, info = {}) {\n    const { events: allEvents } = initDefi(object);\n    const events = allEvents[name];\n    const event = {\n        callback, name, info\n    };\n\n    // skipChecks is used by internal methods for better performance\n    const { skipChecks = false } = info;\n\n    if (!skipChecks) {\n        const domEventExecResult = domEventReg.exec(name);\n\n        if (domEventExecResult) {\n            const [, eventName, key, selector] = domEventExecResult;\n            // fixing circular reference issue\n            const addDomListener = require('./_adddomlistener');\n\n            addDomListener(object, key, eventName, selector, callback, info);\n\n            return true;\n        }\n    }\n\n    // if there are events with the same name\n    if (events) {\n        if (!skipChecks) {\n            // if there are events with the same data, return false\n            for (let i = 0; i < events.length; i++) {\n                const existingEvent = events[i];\n                const argCallback = (callback && callback._callback) || callback;\n                const eventCallback = existingEvent.callback._callback || existingEvent.callback;\n                if (argCallback === eventCallback) {\n                    return false;\n                }\n            }\n        }\n\n        // if the event isn't found add it to the event list\n        events.push(event);\n    } else {\n        // if there are no events with the same name, create an array with only  one event\n        allEvents[name] = [event];\n    }\n\n    if (propModEventReg.test(name)) {\n        // define needed accessors for KEY\n        defineProp(object, name.replace(propModEventReg, ''));\n    }\n\n    // names prefixed by underscore mean \"private\" events\n    if (!skipChecks && name[0] !== '_') {\n        triggerOne(object, `addevent:${name}`, event);\n        triggerOne(object, 'addevent', event);\n    }\n\n    // if event is added successfully return true\n    return true;\n}\n","import defs from './defs';\n\nlet objectId = 0;\n\n// this is a common function which associates an object with its defi definition\nexport default function initDefi(object) {\n    let def = defs.get(object);\n    if (!def) {\n        def = {\n            // a property name of \"events\" object is an event name\n            // and a value is an array of event handlers\n            events: {\n                /* example: {\n                    callback: function,\n                    name: \"example\",\n                    info: { ...extra data for an event... }\n                } */\n            },\n            // \"props\" contains special information about properties (getters, setters etc)\n            props: {\n                /* example: {\n                    value: object[key],\n                    mediator: null,\n                    bindings: [{\n                        node,\n                        binder,\n                        nodeHandler,\n                        objectHandler,\n                        ...other required info\n                    }]\n                } */\n            },\n            id: objectId\n        };\n\n        objectId += 1;\n\n        defs.set(object, def);\n    }\n\n    return def;\n}\n","import defs from './defs';\nimport set from '../set';\n\n// the function defines needed descriptor for given property\nexport default function defineProp(object, key, noAccessor) {\n    const def = defs.get(object);\n\n    // if no object definition do nothing\n    if (!def) {\n        return null;\n    }\n\n    if (!def.props[key]) {\n        const propDef = def.props[key] = {\n            value: object[key],\n            mediator: null,\n            bindings: null\n        };\n\n        if (!noAccessor) {\n            Object.defineProperty(object, key, {\n                configurable: true,\n                enumerable: true,\n                get() {\n                    return propDef.value;\n                },\n                set(v) {\n                    return set(object, key, v, {\n                        fromSetter: true\n                    });\n                }\n            });\n        }\n    }\n\n    return def.props[key];\n}\n","// the regexp allows to parse things like \"click::x(.y)\"\n// it's shared between few modules\nexport default /([^::]+)::([^()]+)?(?:\\((.*)\\))?/;\n","import Init from './_init';\nimport parseHTML from './parsehtml';\nimport on from './on';\nimport off from './off';\nimport add from './add';\nimport assign from '../_helpers/assign';\n\n// a tiny jQuery-like library\nexport default function mq(selector, context) {\n    return new Init(selector, context);\n}\n\nmq.parseHTML = parseHTML;\n\nassign(Init.prototype, {\n    on,\n    off,\n    add\n});\n","import html2nodeList from './_html2nodelist';\n\nconst win = window;\n\n// function-constructor of mq library\n// accepts many kinds of arguments (selector, html, function)\nfunction MQInit(selector, context) {\n    let result;\n\n    if (selector) {\n        if (selector.nodeType || (typeof win === 'object' && selector === win)) {\n            result = [selector];\n        } else if (typeof selector === 'string') {\n            if (/</.test(selector)) {\n                result = html2nodeList(selector);\n            } else if (context) {\n                const newContext = (new MQInit(context))[0];\n\n                if (newContext) {\n                    result = newContext.querySelectorAll(selector);\n                }\n            } else {\n                result = win.document.querySelectorAll(selector);\n            }\n        } else if ('length' in selector) {\n            // if it's something array-like (eg NodeList)\n            result = selector;\n        } else {\n            // this is somethong another (eg Attr)\n            result = [selector];\n        }\n    }\n\n    const length = result && result.length;\n\n    if (length) {\n        for (let i = 0; i < length; i++) {\n            this.push(result[i]);\n        }\n    }\n}\n\nMQInit.prototype = [];\n\nexport default MQInit;\n","// an object allows to share data between modules; it's needed because we use\n// simplified ES modules there and cannot import and share a number\nexport default {\n    nodeIndex: 0,\n    allEvents: {}\n};\n","import addListener from '../_addlistener';\nimport changeHandler from './changehandler';\n\n// adds delegated event listener to an object by given path\n// TODO Handler uses wrong context\nexport default function delegateListener(object, givenPath, name, callback, info = {}) {\n    // if typeof path is string and path is not empty string then split it\n    let path = typeof givenPath === 'string' && givenPath !== '' ? givenPath.split('.') : givenPath;\n\n    if (!path || !path.length) {\n        // if no path then add simple listener\n        addListener(object, name, callback, info);\n    } else {\n        // else do all magic\n        const key = path[0];\n        let pathStr; // needed for undelegation\n\n        if (path.length > 1) {\n            path = nofn.slice(path, 1);\n            pathStr = path.join('.');\n        } else {\n            path = [];\n            pathStr = path[0] || '';\n        }\n\n        const delegatedData = {\n            path,\n            name,\n            callback,\n            info,\n            object\n        };\n\n        // the event is triggered by \"set\"\n        addListener(object, `_change:delegated:${key}`, changeHandler, {\n            delegatedData,\n            pathStr\n        });\n\n        // call handler manually\n        changeHandler({\n            value: object[key]\n        }, delegatedData);\n    }\n}\n","import defs from '../_core/defs';\nimport removeListener from './_removelistener';\n\n// the function removes internally used events such as _asterisk:add\nfunction detatchDelegatedLogic({\n    delegatedEventName,\n    pathStr,\n    allEvents\n}) {\n    const retain = [];\n    const events = allEvents[delegatedEventName];\n\n    nofn.forEach(events, (event) => {\n        // pathStr is assigned to info in delegateListener\n        if (event.info.pathStr !== pathStr) {\n            retain.push(event);\n        }\n    });\n\n    if (retain.length) {\n        allEvents[delegatedEventName] = retain;\n    } else {\n        delete allEvents[delegatedEventName];\n    }\n}\n\n// removes delegated event listener from an object by given path\nexport default function undelegateListener(object, givenPath, name, callback, info = {}) {\n    const def = defs.get(object);\n\n    // if no definition do nothing\n    if (!def) {\n        return;\n    }\n\n    const { events: allEvents } = def;\n\n    let path = typeof givenPath === 'string' && givenPath !== '' ? givenPath.split('.') : givenPath;\n\n    if (!path || !path.length) {\n        // if no path then remove listener\n        removeListener(object, name, callback, info);\n    } else {\n        // else do all magic\n        const key = path[0];\n        let pathStr;\n\n        if (path.length > 1) {\n            path = nofn.slice(path, 1);\n            pathStr = path.join('.');\n        } else {\n            path = [];\n            pathStr = path[0] || '';\n        }\n\n\n        const delegatedChangeEvtName = `_change:delegated:${key}`;\n        if (allEvents[delegatedChangeEvtName]) {\n            detatchDelegatedLogic({\n                delegatedEventName: delegatedChangeEvtName,\n                pathStr,\n                allEvents\n            });\n        }\n\n        if (typeof object[key] === 'object') {\n            undelegateListener(object[key], path, name, callback, info);\n        }\n    }\n}\n","import defs from '../_core/defs';\nimport triggerOne from '../trigger/_triggerone';\nimport domEventReg from '../on/_domeventregexp';\n\n// removes simple event listener from an object\nexport default function removeListener(object, name, callback, info) {\n    const def = defs.get(object);\n\n    // if no definition do nothing\n    if (!def) {\n        return false;\n    }\n\n    const { events: allEvents } = def;\n    const events = allEvents[name];\n    const retain = [];\n    const noTrigger = name ? name[0] === '_' : false;\n    const domEventExecResult = domEventReg.exec(name);\n\n    if (domEventExecResult) {\n        const [, eventName, key, selector] = domEventExecResult;\n        // fixing circular reference issue\n        const removeDomListener = require('./_removedomlistener');\n\n        removeDomListener(object, key, eventName, selector, callback, info);\n\n        return true;\n    }\n\n    // if all events need to be removed\n    if (typeof name === 'undefined') {\n        if (!noTrigger) {\n            nofn.forOwn(allEvents, (allEventsItem, allEventsName) => {\n                nofn.forEach(allEventsItem, (event) => {\n                    const removeEventData = {\n                        allEventsName,\n                        callback: event.callback\n                    };\n\n                    triggerOne(object, `removeevent:${name}`, removeEventData);\n                    triggerOne(object, 'removeevent', removeEventData);\n                });\n            });\n        }\n\n        // restore default value of \"events\"\n        def.events = {};\n    } else if (events) {\n        // if events with given name are found\n        nofn.forEach(events, (event) => {\n            const argCallback = (callback && callback._callback) || callback;\n            const eventCallback = event.callback._callback || event.callback;\n\n            if (argCallback && argCallback !== eventCallback) {\n                // keep event\n                retain.push(event);\n            } else {\n                const removeEventData = {\n                    name,\n                    callback: event.callback\n                };\n\n                if (!noTrigger) {\n                    triggerOne(object, `removeevent:${name}`, removeEventData);\n                    triggerOne(object, 'removeevent', removeEventData);\n                }\n            }\n        });\n\n        if (retain.length) {\n            allEvents[name] = retain;\n        } else {\n            delete def.events[name];\n        }\n    }\n\n    return false;\n}\n","// allows to split by spaces not inclusing ones inside of brackers\nexport default /\\s+(?![^(]*\\))/g;\n","import initDefi from '../_core/init';\nimport checkObjectType from '../_helpers/checkobjecttype';\nimport defiError from '../_helpers/defierror';\nimport debounce from '../_helpers/debounce';\nimport addSource from './_addsource';\nimport createCalcHandler from './_createcalchandler';\nimport defineProp from '../_core/defineprop';\n\n// defines a property which is dependend on other properties\nexport default function calc(object, target, sources, givenHandler, eventOptions) {\n    // throw error when object type is wrong\n    checkObjectType(object, 'calc');\n\n    if (target instanceof Object) {\n        /*\n         * accept an object\n         * this.calc({target: { source, handler, event } }, commonEventOptions);\n         */\n        nofn.forOwn(target, ({\n            source: itemSource,\n            handler: itemHandler,\n            event: itemEventOptions\n        }, itemTarget) => {\n            const commonEventOptions = sources;\n            const mergedEventOptions = {};\n\n            if (commonEventOptions) {\n                // extend event object by \"global\" event\n                nofn.assign(mergedEventOptions, commonEventOptions);\n            }\n\n            if (itemEventOptions) {\n                // extend event object by \"local\" event (\"event\" key of an object)\n                nofn.assign(mergedEventOptions, itemEventOptions);\n            }\n\n            calc(object, itemTarget, itemSource, itemHandler, mergedEventOptions);\n        });\n\n        return object;\n    }\n\n    if (typeof target !== 'string') {\n        throw defiError('calc:target_type', { target });\n    }\n\n    eventOptions = eventOptions || {}; // eslint-disable-line no-param-reassign\n    const def = initDefi(object);\n    const {\n        setOnInit = true,\n        debounceCalcOnInit = false,\n        debounceCalc = true,\n        debounceCalcDelay = 0,\n        // the next option is used to hide a property for internal use (eg in bindings parser)\n        // hidden property means no accessors\n        isTargetPropertyHidden = false\n    } = eventOptions;\n    const defaultHandler = value => value;\n    const handler = givenHandler || defaultHandler;\n    const allSources = [];\n    const syncCalcHandler = createCalcHandler({\n        object,\n        eventOptions,\n        allSources,\n        target,\n        def,\n        handler\n    });\n\n    let debouncedCalcHandler;\n    let calcHandler;\n\n    if (debounceCalcOnInit || debounceCalc) {\n        debouncedCalcHandler = debounce(syncCalcHandler, debounceCalcDelay);\n    }\n\n    defineProp(object, target, isTargetPropertyHidden);\n\n    if (!(sources instanceof Array)) {\n        sources = [sources]; // eslint-disable-line no-param-reassign\n    }\n\n    if (debounceCalc) {\n        calcHandler = debouncedCalcHandler;\n    } else {\n        calcHandler = syncCalcHandler;\n    }\n\n    nofn.forEach(sources, (source) => {\n        if (typeof source === 'string') {\n            // source object is current object\n            addSource({\n                calcHandler,\n                allSources,\n                sourceKey: source,\n                sourceObject: object,\n                eventOptions\n            });\n        } else {\n            // source object is external object\n            if (!source || typeof source !== 'object') {\n                throw defiError('calc:source_type', { source });\n            }\n\n            const sourceKey = source.key;\n            const sourceObject = source.object;\n            if (sourceKey instanceof Array) {\n                // many keys are passed\n                nofn.forEach(sourceKey, (sourceKeyItem) => {\n                    addSource({\n                        calcHandler,\n                        allSources,\n                        sourceKey: sourceKeyItem,\n                        sourceObject,\n                        eventOptions\n                    });\n                });\n            } else {\n                // one key is passed\n                addSource({\n                    calcHandler,\n                    allSources,\n                    sourceKey,\n                    sourceObject,\n                    eventOptions\n                });\n            }\n        }\n    });\n\n    if (setOnInit) {\n        if (debounceCalcOnInit) {\n            debouncedCalcHandler();\n        } else {\n            syncCalcHandler();\n        }\n    }\n\n    return object;\n}\n","// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds.\n// (c) https://davidwalsh.name/javascript-debounce-function\n\nexport default function debounce(func, givenDelay, thisArg) {\n    let timeout;\n    let delay;\n    if (typeof givenDelay !== 'number') {\n        thisArg = givenDelay; // eslint-disable-line no-param-reassign\n        delay = 0;\n    } else {\n        delay = givenDelay || 0;\n    }\n\n    return function debounced() {\n        const args = arguments;\n        const callContext = thisArg || this;\n\n        clearTimeout(timeout);\n\n        timeout = setTimeout(() => func.apply(callContext, args), delay);\n    };\n}\n","// converts HTML string to NodeList instance\nexport default function html2nodeList(givenHTML) {\n    // wrapMap is taken from jQuery\n    const wrapMap = {\n        option: [1, '<select multiple=\"multiple\">', '</select>'],\n        legend: [1, '<fieldset>', '</fieldset>'],\n        thead: [1, '<table>', '</table>'],\n        tr: [2, '<table><tbody>', '</tbody></table>'],\n        td: [3, '<table><tbody><tr>', '</tr></tbody></table>'],\n        col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n        area: [1, '<map>', '</map>'],\n        _: [0, '', '']\n    };\n\n    const html = givenHTML.replace(/^\\s+|\\s+$/g, '');\n    let node = window.document.createElement('div');\n    let i;\n\n    wrapMap.optgroup = wrapMap.option;\n    wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\n    wrapMap.th = wrapMap.td;\n\n    const ex = /<([\\w:]+)/.exec(html);\n    const wrapper = (ex && wrapMap[ex[1]]) || wrapMap._;\n\n    node.innerHTML = wrapper[1] + html + wrapper[2];\n\n    i = wrapper[0];\n\n    while (i) {\n        i -= 1;\n        node = node.children[0];\n    }\n\n    return node.childNodes;\n}\n","import domEventReg from '../on/_domeventregexp';\nimport checkObjectType from '../_helpers/checkobjecttype';\nimport defiError from '../_helpers/defierror';\nimport splitBySpaceReg from '../on/_splitbyspaceregexp';\nimport defs from '../_core/defs';\nimport triggerOne from './_triggerone';\nimport triggerDomEvent from './_triggerdomevent';\n\n// triggers an event\nexport default function trigger(object, givenNames, ...triggerArgs) {\n    // throw error when object type is wrong\n    checkObjectType(object, 'trigger');\n    let names;\n\n    // allow to use strings only as event name\n    if (typeof givenNames === 'string') {\n        names = givenNames.split(splitBySpaceReg);\n    } else {\n        throw defiError('trigger:names_type', { names: givenNames });\n    }\n\n    const def = defs.get(object);\n\n    // if no definition do nothing\n    if (!def) {\n        return object;\n    }\n\n    const { events: allEvents } = def;\n\n    if (!allEvents) {\n        return object;\n    }\n\n    nofn.forEach(names, (name) => {\n        const domEvtExecResult = domEventReg.exec(name);\n\n        if (domEvtExecResult) {\n            // if EVT::KEY(SELECTOR) ia passed as event name then trigger DOM event\n            const [, eventName, key, selector] = domEvtExecResult;\n            triggerDomEvent(object, key, eventName, selector, triggerArgs);\n        } else {\n            // trigger ordinary event\n            triggerOne(object, name, triggerArgs);\n        }\n    });\n\n    return object;\n}\n","const Router = require('./router');\n\nfunction router(obj, route, type) {\n    Router[type || 'hash'].subscribe(obj, route);\n    return obj;\n}\n\nmodule.exports = router;\n","import calc from 'defi/calc';\nimport on from 'defi/on';\nimport trigger from 'defi/trigger';\nimport set from 'defi/set';\n\nfunction handleHashChange(router) {\n    set(router, 'hashPath', window.location.hash, {\n        hashEvent: true\n    });\n}\n\nfunction handlePopStateChange(router) {\n    set(router, 'path', window.location.pathname, {\n        popEvent: true\n    });\n}\n\nclass Router {\n    parts = [];\n\n    path = '/';\n\n    hashPath = '!#/';\n\n    constructor(type) {\n        // singletone pattern for history and hash router\n        /* istanbul ignore if */\n        if (type in Router) {\n            return Router[type];\n        }\n\n        this.type = type;\n\n        return this;\n    }\n\n\n    init() {\n        if (this.initialized) {\n            return this;\n        }\n\n        const { type } = this;\n\n        calc(this, {\n            parts: {\n                source: 'path',\n                handler(path) {\n                    const fixed = path.replace(/\\/\\//g, '/')\n                        .replace(/^\\/|\\/$/g, '');\n\n                    return fixed ? fixed.split('/') : [];\n                }\n            },\n            path: {\n                source: 'parts',\n                handler(parts) {\n                    const nonEmptyParts = [];\n\n                    for (let i = 0; i < parts.length; i++) {\n                        if (parts[i]) {\n                            nonEmptyParts.push(parts[i]);\n                        } else {\n                            break;\n                        }\n                    }\n\n                    return nonEmptyParts.length ? (`/${nonEmptyParts.join('/')}/`) : '/';\n                }\n            }\n        }, { debounceCalc: false });\n\n        calc(this, {\n            hashPath: {\n                source: 'path',\n                handler(path) {\n                    return path && path !== '/' ? `#!${path}` : '';\n                }\n            },\n            path: {\n                source: 'hashPath',\n                handler(hashPath) {\n                    return hashPath ? hashPath.replace(/^#!/, '') : '';\n                }\n            }\n        }, { debounceCalc: false });\n\n        on(this, 'change:parts', (evt) => {\n            const { value, previousValue } = evt;\n            let equals = value.length === previousValue.length;\n\n            if (equals) {\n                for (let i = 0; i < value.length; i++) {\n                    if (value[i] !== previousValue[i]) {\n                        equals = false;\n                        break;\n                    }\n                }\n            }\n\n            if (!equals) {\n                trigger(this, 'pathchange');\n            }\n        });\n\n        if (typeof window !== 'undefined') {\n            const { history, location } = window;\n\n            if (type === 'hash') {\n                handleHashChange(this);\n\n                window.addEventListener('hashchange', () => handleHashChange(this));\n\n                on(this, 'change:hashPath', (evt) => {\n                    if (!evt || !evt.hashEvent) {\n                        location.hash = this.hashPath;\n                    }\n                }, { triggerOnInit: true, debounce: true });\n            } else if (type === 'history') {\n                handlePopStateChange(this);\n\n                window.addEventListener('popstate', (evt) => {\n                    if (evt.state && evt.state.validPush) {\n                        handlePopStateChange(this);\n                    }\n                });\n\n                on(this, 'change:path', (evt) => {\n                    if (!evt || !evt.popEvent) {\n                        history.pushState({\n                            validPush: true\n                        }, '', this.path + location.hash);\n                    }\n                }, { triggerOnInit: true, debounce: true });\n            }\n        }\n\n        this.initialized = true;\n\n        return this;\n    }\n\n    subscribe(obj, route) {\n        const keys = route.replace(/\\/\\//g, '/').replace(/^\\/|\\/$/g, '').split('/');\n        const changeEvents = [];\n        const filteredKeys = keys.filter(key => key !== '*');\n        const parts = [];\n\n        this.init();\n\n        for (let i = 0; i < filteredKeys.length; i++) {\n            const key = filteredKeys[i];\n            changeEvents.push(`change:${key}`);\n        }\n\n        on(obj, changeEvents, (evt) => {\n            if (evt && evt.routeSilent) {\n                return;\n            }\n\n            const values = [];\n\n            for (let i = 0; i < keys.length; i++) {\n                const value = keys[i] === '*' ? this.parts[i] : obj[keys[i]];\n\n                if (value) {\n                    values.push(value);\n                } else {\n                    break;\n                }\n            }\n\n            this.parts = values;\n        });\n\n        for (let i = 0; i < keys.length; i++) {\n            parts.push(obj[keys[i]] === '*' ? this.parts[i] : obj[keys[i]] || this.parts[i]);\n        }\n\n        for (let i = 0; i < keys.length; i++) {\n            if (typeof obj[keys[i]] === 'undefined' && this.parts[i] && keys[i] !== '*') {\n                set(obj, keys[i], this.parts[i], {\n                    routeSilent: true\n                });\n            }\n        }\n\n        on(this, 'pathchange', () => {\n            for (let i = 0; i < keys.length; i++) {\n                if (keys[i] !== '*') {\n                    set(obj, keys[i], this.parts[i] || null, {\n                        routeSilent: true\n                    });\n                }\n            }\n        });\n\n        this.parts = parts;\n\n        return this;\n    }\n}\n\nRouter.history = new Router('history');\nRouter.hash = new Router('hash');\n\nmodule.exports = Router;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import addListener from '../on/_addlistener';\nimport addTreeListener from '../on/_addtreelistener';\nimport defiError from '../_helpers/defierror';\n\n// adds a source to a source list and adds needed event listener to a it\nexport default function addSource({\n    calcHandler,\n    allSources,\n    sourceKey,\n    sourceObject,\n    eventOptions\n}) {\n    let { exactKey = false } = eventOptions;\n    let isDelegated = false;\n\n    // source key must be a string\n    if (typeof sourceKey !== 'string') {\n        throw defiError('calc:source_key_type', { sourceKey });\n    }\n\n    // source object must be an object\n    if (!sourceObject || typeof sourceObject !== 'object') {\n        throw defiError('calc:source_object_type', { sourceObject });\n    }\n\n    if (!exactKey) {\n        const deepPath = sourceKey.split('.');\n\n        // if something like a.b.c is used as a key\n        if (deepPath.length > 1) {\n            isDelegated = true;\n            // TODO: Avoid collisions with bindings by using another event name\n            // ... instead of _change:tree:xxx\n            addTreeListener(sourceObject, deepPath, calcHandler);\n        } else {\n            exactKey = true;\n        }\n    }\n\n\n    if (exactKey) {\n        // normal handler\n        addListener(sourceObject, `_change:deps:${sourceKey}`, calcHandler);\n    }\n\n    allSources.push({\n        sourceKey,\n        sourceObject,\n        isDelegated\n    });\n}\n","// determines whether two values are the same value\n/* istanbul ignore next */\n// eslint-disable-next-line\nconst isPolyfill = (v1, v2) => v1 === 0 && v2 === 0 ? 1 / v1 === 1 / v2 : v1 !== v1 && v2 !== v2 || v1 === v2;\n\nexport default Object.is || isPolyfill;\n","import initDefi from '../_core/init';\nimport defineProp from '../_core/defineprop';\nimport addListener from './_addlistener';\nimport $ from '../_mq';\nimport createDomEventHandler from './_createdomeventhandler';\n\n// returns an object with event handlers used at addDomListener\nfunction createBindingHandlers({\n    fullEventName,\n    domEventHandler,\n    selector\n}) {\n    return {\n        bindHandler(evt = {}) {\n            const { node } = evt;\n            if (node) {\n                $(node).on(fullEventName, selector, domEventHandler);\n            }\n        },\n        unbindHandler(evt = {}) {\n            const { node } = evt;\n            if (node) {\n                $(node).off(fullEventName, selector, domEventHandler);\n            }\n        }\n    };\n}\n\n// adds DOM event listener for nodes bound to given property\nexport default function addDomListener(object, key, eventName, selector, callback, info) {\n    const def = initDefi(object);\n    const propDef = defineProp(object, key);\n\n    const domEventHandler = createDomEventHandler({\n        key,\n        object,\n        callback\n    });\n\n    // making possible to remove this event listener\n    domEventHandler._callback = callback;\n\n    const eventNamespace = def.id + key;\n    const fullEventName = `${eventName}.${eventNamespace}`;\n    const { bindHandler, unbindHandler } = createBindingHandlers({\n        fullEventName,\n        domEventHandler,\n        selector\n    });\n    const addBindListenerResult\n        = addListener(object, `bind:${key}`, bindHandler, info);\n    const addUnbindListenerResult\n        = addListener(object, `unbind:${key}`, unbindHandler, info);\n\n    // if events are added successfully then run bindHandler for every node immediately\n    // TODO: Describe why do we need addBindListenerResult and addUnbindListenerResult\n    if (addBindListenerResult && addUnbindListenerResult) {\n        const { bindings } = propDef;\n        if (bindings) {\n            nofn.forEach(bindings, ({ node }) => bindHandler({ node }));\n        }\n    }\n\n    return object;\n}\n","import html2nodeList from './_html2nodelist';\nimport Init from './_init';\n\n// parses given HTML and returns mq instance\nexport default function parseHTML(html) {\n    return new Init(html2nodeList(html));\n}\n","import data from './_data';\n\nconst splitBySpaceReg = /\\s+/;\nconst splitByDotReg = /\\.(.+)/;\nconst randomID = `${Math.random().toString().replace('0.', 'x')}y`; // x12345y\n\n// checks an element against a selector\nfunction is(node, selector) {\n    return (node.matches\n            || node.webkitMatchesSelector\n            || node.mozMatchesSelector\n            || node.msMatchesSelector\n            || node.oMatchesSelector).call(node, selector);\n}\n\n// the function is used when a selector is given\nfunction delegateHandler(evt, selector, handler) {\n    const scopeSelector = `[${randomID}=\"${randomID}\"] `;\n    const splittedSelector = selector.split(',');\n\n    let matching = '';\n\n    for (let i = 0; i < splittedSelector.length; i++) {\n        const sel = splittedSelector[i];\n        matching += `${i === 0 ? '' : ','}${scopeSelector}${sel},${scopeSelector}${sel} *`;\n    }\n\n\n    this.setAttribute(randomID, randomID);\n\n    if (is(evt.target, matching)) {\n        handler.call(this, evt);\n    }\n\n    this.removeAttribute(randomID);\n}\n\n// adds event listener to a set of elemnts\nexport default function on(namesStr, selector, handler) {\n    const names = namesStr.split(splitBySpaceReg);\n    let delegate;\n\n    if (typeof selector === 'function') {\n        handler = selector; // eslint-disable-line no-param-reassign\n        selector = null; // eslint-disable-line no-param-reassign\n    }\n\n    if (selector) {\n        delegate = function uniqueDelegateHandler(evt) {\n            delegateHandler.call(this, evt, selector, handler);\n        };\n    }\n\n    for (let i = 0; i < names.length; i++) {\n        const [name, namespace] = names[i].split(splitByDotReg);\n\n        for (let j = 0; j < this.length; j++) {\n            const node = this[j];\n            const nodeID = node.b$ = node.b$ || ++data.nodeIndex; // eslint-disable-line no-plusplus\n            const events = data.allEvents[name + nodeID] = data.allEvents[name + nodeID] || [];\n\n            let exist = false;\n\n            for (let k = 0; k < events.length; k++) {\n                const event = events[k];\n\n                if (handler === event.handler && (!selector || selector === event.selector)) {\n                    exist = true;\n                    break;\n                }\n            }\n\n            if (!exist) {\n                events.push({\n                    delegate,\n                    handler,\n                    namespace,\n                    selector,\n                    nodeID,\n                    name\n                });\n\n                node.addEventListener(name, delegate || handler, false);\n            }\n        }\n    }\n\n    return this;\n}\n","import data from './_data';\n\nconst splitBySpaceReg = /\\s+/;\nconst splitByDotReg = /\\.(.+)/;\n\n// removes event handler from a set of elements\nexport default function off(namesStr, selector, handler) {\n    if (typeof selector === 'function') {\n        handler = selector; // eslint-disable-line no-param-reassign\n        selector = null; // eslint-disable-line no-param-reassign\n    }\n\n    const names = namesStr.split(splitBySpaceReg);\n\n    for (let i = 0; i < names.length; i++) {\n        const [name, namespace] = names[i].split(splitByDotReg);\n\n        for (let j = 0; j < this.length; j++) {\n            const node = this[j];\n\n            if (!name && namespace) {\n                for (let k = 0, keys = Object.keys(data.allEvents); k < keys.length; k++) {\n                    const events = data.allEvents[keys[k]];\n\n                    for (let l = 0; l < events.length; l++) {\n                        const event = events[i];\n                        if (event.namespace === namespace && event.nodeID === node.b$) {\n                            node.removeEventListener(event.name, event.delegate || event.handler);\n                            events.splice(l, 1);\n                            l -= 1;\n                        }\n                    }\n                }\n\n                continue;\n            }\n\n            const events = data.allEvents[name + node.b$];\n            if (events) {\n                for (let k = 0; k < events.length; k++) {\n                    const event = events[k];\n                    if (\n                        (!handler || handler === event.handler || handler === event.delegate)\n                        && (!namespace || namespace === event.namespace)\n                        && (!selector || selector === event.selector)\n                    ) {\n                        node.removeEventListener(name, event.delegate || event.handler);\n                        events.splice(k, 1);\n                        k -= 1;\n                    }\n                }\n            } else if (!namespace && !selector) {\n                node.removeEventListener(name, handler);\n            }\n        }\n    }\n\n    return this;\n}\n","import Init from './_init';\nimport data from './_data';\n\n// adds unique nodes to mq collection\nexport default function add(selector) {\n    const idMap = {};\n\n    let result;\n\n    const nodes = new Init(selector);\n\n    if (this.length) {\n        result = new Init();\n        for (let i = 0; i < this.length; i++) {\n            const node = this[i];\n            const nodeID = node.b$ = node.b$ || ++data.nodeIndex; // eslint-disable-line no-plusplus\n            idMap[nodeID] = 1;\n            result.push(node);\n        }\n\n        for (let i = 0; i < nodes.length; i++) {\n            const node = nodes[i];\n            const nodeID = node.b$ = node.b$ || ++data.nodeIndex; // eslint-disable-line no-plusplus\n            if (!idMap[nodeID]) {\n                idMap[nodeID] = 1;\n                result.push(node);\n            }\n        }\n    } else {\n        result = nodes;\n    }\n\n    return result;\n}\n","// Object.assign polyfyll\n/* istanbul ignore next */\nconst assign = Object.assign || function assign(target) {\n    /* istanbul ignore next */\n    if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert variable to object');\n    }\n\n    const output = Object(target);\n\n    for (let index = 1; index < arguments.length; index++) {\n        const source = arguments[index];\n        if (source !== undefined && source !== null) {\n            nofn.forOwn(source, (nextValue, nextKey) => {\n                output[nextKey] = nextValue;\n            });\n        }\n    }\n\n    return output;\n};\n\nexport default assign;\n","// returns DOM event handler\nexport default function createDomEventHandler({\n    key,\n    object,\n    callback\n}) {\n    return function domEventHandler(domEvent) {\n        const originalEvent = domEvent.originalEvent || domEvent;\n        // defiTriggerArgs are created when DOM event is triggered by trigger method\n        const triggerArgs = originalEvent.defiTriggerArgs;\n        const {\n            which, target, ctrlKey, altKey\n        } = domEvent;\n\n        if (triggerArgs) {\n            // if args are passed to trigger method then pass them to an event handler\n            callback.apply(object, triggerArgs);\n        } else {\n            // use the following object as an arg for event handler\n            callback.call(object, {\n                self: object,\n                node: this,\n                preventDefault: () => domEvent.preventDefault(),\n                stopPropagation: () => domEvent.stopPropagation(),\n                key,\n                domEvent,\n                originalEvent,\n                which,\n                target,\n                ctrlKey,\n                altKey\n            });\n        }\n    };\n}\n","import delegateListener from './_delegatelistener';\nimport removeTreeListener from '../off/_removetreelistener';\n\n// creates tree listener\nfunction createTreeListener({ handler, restPath }) {\n    const newHandler = function treeListener(changeEvent) {\n        const extendedChangeEvent = {\n            restPath,\n            ...changeEvent\n        };\n        const { previousValue, value } = changeEvent;\n\n        // removes listener for all branches of the path on old object\n        if (previousValue && typeof previousValue === 'object') {\n            removeTreeListener(previousValue, restPath, handler);\n        }\n\n        // adds listener for all branches of \"restPath\" path on newly assigned object\n        if (value && typeof value === 'object') {\n            addTreeListener(value, restPath, handler);\n        }\n\n        // call original handler\n        handler.call(this, extendedChangeEvent);\n    };\n\n    newHandler._callback = handler;\n\n    return newHandler;\n}\n\n// listens changes for all branches of given path\n// one of the most hard functions to understand\nexport default function addTreeListener(object, deepPath, handler) {\n    if (typeof deepPath === 'string') {\n        deepPath = deepPath.split('.'); // eslint-disable-line no-param-reassign\n    }\n\n    // iterate over all keys and delegate listener for all objects of given branch\n    for (let i = 0; i < deepPath.length; i++) {\n        // TODO: Array.prototype.slice method is slow\n        const listenPath = deepPath.slice(0, i);\n        const restPath = deepPath.slice(i + 1);\n\n        delegateListener(\n            object,\n            listenPath,\n            `_change:tree:${deepPath[i]}`,\n            createTreeListener({\n                handler,\n                restPath\n            })\n        );\n    }\n}\n","import undelegateListener from '../../off/_undelegatelistener';\nimport triggerOne from '../../trigger/_triggerone';\n\n// the function is called when some part of a path is changed\n// it delegates event listener for new branch of an object and undelegates it for old one\n// used for non-asterisk events\nexport default function changeHandler({\n    previousValue,\n    value\n}, {\n    path,\n    name,\n    callback,\n    info\n} = triggerOne.latestEvent.info.delegatedData) {\n    if (value && typeof value === 'object') {\n        const delegateListener = require('./'); // fixing circular ref\n\n        delegateListener(value, path, name, callback, info);\n    }\n\n    if (previousValue && typeof previousValue === 'object') {\n        undelegateListener(previousValue, path, name, callback, info);\n    }\n}\n","import defs from '../_core/defs';\nimport removeListener from './_removelistener';\nimport $ from '../_mq';\n\n// removes dom listener from nodes bound to given key\nexport default function removeDomListener(\n    object,\n    key,\n    eventName,\n    selector,\n    callback,\n    info\n) {\n    const def = defs.get(object);\n\n    if (!def) {\n        return object;\n    }\n\n    const { props } = def;\n    const propDef = props[key];\n\n    if (!propDef) {\n        return object;\n    }\n\n    const { bindings } = propDef;\n\n    if (bindings) {\n        // collect bound nodes and remove DOM event listener\n        const nodes = Array(bindings.length);\n        const eventNamespace = def.id + key;\n\n        nofn.forEach(bindings, (binding, index) => {\n            nodes[index] = binding.node;\n        });\n\n        $(nodes).off(`${eventName}.${eventNamespace}`, selector, callback);\n    }\n\n    // remove bind and unbind listeners from given key\n    removeListener(object, `bind:${key}`, callback, info);\n    removeListener(object, `unbind:${key}`, callback, info);\n\n    return object;\n}\n","import undelegateListener from './_undelegatelistener';\n\n// removes tree listener from all object tree of fiven path\nexport default function removeTreeListener(object, deepPath, handler) {\n    if (typeof deepPath === 'string') {\n        deepPath = deepPath.split('.'); // eslint-disable-line no-param-reassign\n    }\n\n    // iterate over keys of the path and undelegate given handler (can be undefined)\n    for (let i = 0; i < deepPath.length; i++) {\n        // TODO: Array.prototype.slice is slow\n        const listenedPath = deepPath.slice(0, i);\n\n        undelegateListener(\n            object,\n            listenedPath,\n            `_change:tree:${deepPath[i]}`,\n            handler\n        );\n    }\n}\n","import set from '../set';\nimport deepFind from '../_helpers/deepfind';\n\n// creates event handler for target object which will be fired when a source is changed\nexport default function createCalcHandler({\n    object,\n    eventOptions,\n    allSources,\n    target,\n    def,\n    handler\n}) {\n    return function calcHandler(changeEvent = {}) {\n        const values = [];\n        const { protector = {} } = changeEvent;\n        const protectKey = target + def.id;\n        const { promiseCalc } = eventOptions;\n        const setEventOptions = {\n            protector,\n            ...eventOptions,\n            ...changeEvent\n        };\n\n        if (protectKey in protector) {\n            return;\n        }\n\n        protector[protectKey] = true;\n\n        nofn.forEach(allSources, ({\n            sourceObject,\n            sourceKey,\n            isDelegated\n        }) => {\n            const value = isDelegated ? deepFind(sourceObject, sourceKey) : sourceObject[sourceKey];\n            values.push(value);\n        });\n\n        let targetValue = handler.apply(object, values);\n\n        if (promiseCalc) {\n            if (!(targetValue instanceof Promise)) {\n                targetValue = Promise.resolve(targetValue);\n            }\n\n            targetValue\n                .then(promiseResult => set(object, target, promiseResult, setEventOptions))\n                .catch((e) => {\n                    throw Error(e);\n                });\n        } else {\n            set(object, target, targetValue, setEventOptions);\n        }\n    };\n}\n","// gets value of a property in nested object\n// eg \"d\" from a.b.c.d\nexport default function deepFind(obj, givenPath) {\n    const paths = typeof givenPath === 'string' ? givenPath.split('.') : givenPath;\n    let current = obj;\n\n    for (let i = 0; i < paths.length; ++i) {\n        if (typeof current[paths[i]] === 'undefined') {\n            return undefined;\n        }\n\n        current = current[paths[i]];\n    }\n\n    return current;\n}\n","import splitBySpaceReg from '../on/_splitbyspaceregexp';\nimport checkObjectType from '../_helpers/checkobjecttype';\nimport defs from '../_core/defs';\nimport removeListener from './_removelistener';\nimport undelegateListener from './_undelegatelistener';\nimport $ from '../_mq';\n\n// removes event listener\nexport default function off(object, givenNames, callback) {\n    // throw error when object type is wrong\n    checkObjectType(object, 'off');\n\n    const isNamesVarArray = givenNames instanceof Array;\n    const def = defs.get(object);\n\n    // allow to pass name-handler object\n    // TODO: Name-handler object passed to off method is non-documented feature\n    if (givenNames && typeof givenNames === 'object' && !isNamesVarArray) {\n        nofn.forOwn(givenNames, (namesObjCallback, namesObjName) =>\n            off(object, namesObjName, namesObjCallback, callback));\n        return object;\n    }\n\n\n    if (!givenNames && !callback) {\n        def.events = {};\n\n        nofn.forOwn(def.props, ({ bindings }, propName) => {\n            if (bindings) {\n                nofn.forEach(bindings, ({ node }) => {\n                    const eventNamespace = def.id + propName;\n                    $(node).off(`.${eventNamespace}`);\n                });\n            }\n        });\n\n        return object;\n    }\n\n    // TODO: Array of names passed to off method is non-documented feature\n    // split by spaces\n    const names = isNamesVarArray ? givenNames : givenNames.split(splitBySpaceReg);\n\n    nofn.forEach(names, (name) => {\n        const delegatedEventParts = name.split('@');\n        if (delegatedEventParts.length > 1) {\n            const [path, delegatedName] = delegatedEventParts;\n            undelegateListener(object, path, delegatedName, callback);\n        } else {\n            removeListener(object, name, callback);\n        }\n    });\n\n    return object;\n}\n","import triggerOneDOMEvent from './_triggeronedomevent';\nimport defs from '../_core/defs';\n\n// triggers DOM event on bound nodes\nexport default function triggerDOMEvent(object, key, eventName, selector, triggerArgs) {\n    const def = defs.get(object);\n\n    if (!def) {\n        return;\n    }\n\n    const { props } = def;\n    const propDef = props[key];\n\n    if (!propDef) {\n        return;\n    }\n\n    const { bindings } = propDef;\n\n    if (!bindings) {\n        return;\n    }\n\n    nofn.forEach(bindings, ({ node }) => {\n        if (selector) {\n            // if selector is given trigger an event on all node descendants\n            const descendants = node.querySelectorAll(selector);\n            nofn.forEach(descendants, (descendant) => {\n                triggerOneDOMEvent({\n                    node: descendant,\n                    eventName,\n                    triggerArgs\n                });\n            });\n        } else {\n            // trigger an event for single node\n            triggerOneDOMEvent({\n                node,\n                eventName,\n                triggerArgs\n            });\n        }\n    });\n}\n","// triggers given DOM event on given node\nexport default function triggerOneDOMEvent({\n    node,\n    eventName,\n    triggerArgs\n}) {\n    const { Event } = window;\n    const event = new Event(eventName, {\n        bubbles: true,\n        cancelable: true\n    });\n\n    // defiTriggerArgs will be used in a handler created by addDOMListener\n    event.defiTriggerArgs = triggerArgs;\n\n    node.dispatchEvent(event);\n}\n"],"sourceRoot":""}