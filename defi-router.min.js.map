{"version":3,"sources":["webpack://defiRouter/webpack/universalModuleDefinition","webpack://defiRouter/webpack/bootstrap","webpack://defiRouter/../../src/_core/defs.js","webpack://defiRouter/../../src/_helpers/checkobjecttype.js","webpack://defiRouter/../../src/_helpers/defierror.js","webpack://defiRouter/../../src/trigger/_triggerone.js","webpack://defiRouter/../../src/on/_addlistener.js","webpack://defiRouter/../../src/_core/init.js","webpack://defiRouter/../../src/_core/defineprop.js","webpack://defiRouter/../src/set.js","webpack://defiRouter/../../src/on/_domeventregexp.js","webpack://defiRouter/../../src/_mq/index.js","webpack://defiRouter/../../src/_mq/_init.js","webpack://defiRouter/../../src/_mq/_data.js","webpack://defiRouter/../../../src/on/_delegatelistener/index.js","webpack://defiRouter/../../src/off/_undelegatelistener.js","webpack://defiRouter/../../src/off/_removelistener.js","webpack://defiRouter/../../src/on/_splitbyspaceregexp.js","webpack://defiRouter/../../src/_helpers/debounce.js","webpack://defiRouter/../../src/_mq/_html2nodelist.js","webpack://defiRouter/./src/index.js","webpack://defiRouter/./src/router.js","webpack://defiRouter/../../src/calc/index.js","webpack://defiRouter/../../src/calc/_addsource.js","webpack://defiRouter/../../src/_helpers/is.js","webpack://defiRouter/../../src/on/_adddomlistener.js","webpack://defiRouter/../../src/_mq/parsehtml.js","webpack://defiRouter/../../src/_mq/on.js","webpack://defiRouter/../../src/_mq/off.js","webpack://defiRouter/../../src/_mq/add.js","webpack://defiRouter/../../src/_helpers/assign.js","webpack://defiRouter/../../src/on/_createdomeventhandler.js","webpack://defiRouter/../../src/on/_addtreelistener.js","webpack://defiRouter/../../../src/on/_delegatelistener/changehandler.js","webpack://defiRouter/../../src/off/_removedomlistener.js","webpack://defiRouter/../../src/off/_removetreelistener.js","webpack://defiRouter/../../src/calc/_createcalchandler.js","webpack://defiRouter/../../src/_helpers/deepfind.js","webpack://defiRouter/../../src/on/index.js","webpack://defiRouter/../../src/off/index.js","webpack://defiRouter/../../src/trigger/index.js","webpack://defiRouter/../../src/trigger/_triggerdomevent.js","webpack://defiRouter/../../src/trigger/_triggeronedomevent.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","PseudoMap","obj","defi","set","data","writable","configurable","has","WeakMap","method","typeofObject","defiError","getTypeError","variable","variableName","expectedType","getType","errors","common:object_type","_ref","binding:node_missing","_ref2","node","bindingErrorPrefix","binding:falsy_key","calc:target_type","_ref3","target","calcErrorPrefix","calc:source_key_type","_ref4","sourceKey","calc:source_object_type","_ref5","sourceObject","calc:source_type","_ref6","source","trigger:names_type","_ref7","names","eventsErrorPrefix","on:names_type","_ref8","removedatakeys:key_type","_ref9","adddatakeys:key_type","_ref10","remove:key_type","_ref11","mediate:key_type","_ref12","getError","Error","triggerOne","triggerArgs","def","defs","events","length","Array","callback","info","propModEventReg","arguments","undefined","allEvents","initDefi","event","_info$skipChecks","skipChecks","domEventExecResult","domEventReg","eventName","selector","addDomListener","require","existingEvent","argCallback","_callback","eventCallback","defineProp","objectId","props","id","noAccessor","propDef","mediator","bindings","v","fromSetter","eventOptions","checkObjectType","objKey","objVal","_target","_keys","keys","_i","_l","previousValue","_eventOptions","skipMediator","fromMediator","force","forceHTML","silent","silentHTML","skipCalc","newValue","is","isChanged","_keys2","_l2","_i2","_source","_key","_result","self","extendedEventOptions","triggerChange","beforechangeEventName","beforechangeStr","changeBindingsEventName","changeEventName","changeStr","changeDepsEventName","changeDelegatedKeyEventName","changeTreeEventName","changeCommonEventName","mq","context","Init","assign","on","off","add","win","MQInit","result","test","html2nodeList","newContext","this","push","nodeIndex","givenPath","path","pathStr","_end","_j","delegatedData","addListener","changeHandler","undelegateListener","delegatedChangeEvtName","delegatedEventName","retain","_index","detatchDelegatedLogic","removeListener","noTrigger","removeDomListener","allEventsName","allEventsItem","_target2","removeEventData","_target3","_index2","_l3","func","givenDelay","thisArg","timeout","delay","args","callContext","clearTimeout","setTimeout","givenHTML","wrapMap","option","legend","thead","tr","td","col","area","_","html","ex","exec","wrapper","childNodes","Router","route","type","subscribe","calc","trigger","handleHashChange","router","location","hash","hashEvent","handlePopStateChange","pathname","popEvent","_classCallCheck","_defineProperty","_this","initialized","parts","handler","fixed","replace","split","nonEmptyParts","concat","join","debounceCalc","hashPath","evt","equals","_window","history","addEventListener","triggerOnInit","debounce","state","validPush","pushState","_this2","changeEvents","filteredKeys","filter","init","routeSilent","values","sources","givenHandler","itemTarget","_keys5","_i5","_l5","itemSource","itemHandler","itemEventOptions","commonEventOptions","mergedEventOptions","_key2","_source2","_key4","_result2","_source4","_keys4","_l4","_i4","_eventOptions$setOnIn","setOnInit","_eventOptions$debounc","debounceCalcOnInit","_eventOptions$debounc2","_eventOptions$debounc3","debounceCalcDelay","_eventOptions$isTarge","isTargetPropertyHidden","allSources","syncCalcHandler","createCalcHandler","debouncedCalcHandler","calcHandler","_l7","addSource","sourceKeyItem","_l6","_eventOptions$exactKe","exactKey","isDelegated","deepPath","addTreeListener","v1","v2","domEventHandler","createDomEventHandler","eventNamespace","_createBindingHandler","fullEventName","bindHandler","$","unbindHandler","createBindingHandlers","addBindListenerResult","addUnbindListenerResult","splitBySpaceReg","splitByDotReg","randomID","Math","namesStr","delegate","scopeSelector","splittedSelector","matching","sel","setAttribute","oMatchesSelector","removeAttribute","delegateHandler","_names$i$split","namespace","j","nodeID","exist","k","b$","_k","idMap","nodes","_nodeID","TypeError","output","index","nextKey","nextValue","domEvent","originalEvent","defiTriggerArgs","which","ctrlKey","altKey","preventDefault","stopPropagation","createTreeListener","restPath","newHandler","changeEvent","extendedChangeEvent","removeTreeListener","listenPath","delegateListener","binding","listenedPath","_changeEvent$protecto","protector","protectKey","promiseCalc","setEventOptions","deepFind","targetValue","Promise","promiseResult","e","paths","current","givenNames","givenCallback","options","isNamesVarArray","namesObjName","namesObjCallback","once","debounceOption","onceCallback","delegatedEventParts","delegatedName","propName","_target4","_len","domEvtExecResult","triggerDomEvent","descendant","descendants","triggerOneDOMEvent","Event","bubbles","cancelable"],"mappings":"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","file":"defi-router.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"defiRouter\"] = factory();\n\telse\n\t\troot[\"defiRouter\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 18);\n","function PseudoMap() {}\n\n// PseudoMap simulates WeakMap behavior with O(1) search complexity\n// it's needed to support @IE9 and @IE10\nnofn.assign(PseudoMap.prototype, {\n    get(obj) {\n        return obj.defi;\n    },\n    set(obj, data) {\n        Object.defineProperty(obj, 'defi', {\n            value: data,\n            enumerable: false,\n            writable: false,\n            configurable: false\n        });\n    },\n    has(obj) {\n        return 'defi' in obj;\n    }\n});\n\nexport default typeof WeakMap === 'undefined' ? new PseudoMap() : new WeakMap();\n","import defiError from './defierror';\n\n// checks type of a variable and throws an error if its type is not an object\nexport default function checkObjectType(object, method) {\n    const typeofObject = object === null ? 'null' : typeof object;\n\n    if (typeofObject !== 'object' && typeofObject !== 'function') {\n        throw defiError('common:object_type', {\n            object,\n            method\n        });\n    }\n}\n","/* eslint-disable prefer-template, max-len */\nconst bindingErrorPrefix = 'Binding error:';\nconst calcErrorPrefix = 'Calc error:';\nconst eventsErrorPrefix = 'Events error:';\n\nconst getType = (variable) => {\n    if (variable === null) {\n        return 'null';\n    }\n\n    return typeof variable;\n};\nconst getTypeError = (variable, variableName, expectedType) =>\n    `${variableName} must have type \"${expectedType}\" but got \"${getType(variable)}\" instead.`;\n\nconst errors = {\n    'common:object_type': ({ object, method }) => `Error in ${method}: `\n        + getTypeError(object, 'object', 'object'),\n\n    'binding:node_missing': ({ key, node }) => {\n        const selectorInfo = typeof node === 'string' ? ` (given selector is \"${node}\")` : '';\n        return `${bindingErrorPrefix} node is missing for key \"${key}\"${selectorInfo}.`;\n    },\n    'binding:falsy_key': () => `${bindingErrorPrefix} \"key\" arg cannot be falsy`,\n    'calc:target_type': ({ target }) =>\n        `${calcErrorPrefix} ${getTypeError(target, 'target key', 'string')}`,\n    'calc:source_key_type': ({ sourceKey }) =>\n        `${calcErrorPrefix} ${getTypeError(sourceKey, 'source key', 'string')}`,\n    'calc:source_object_type': ({ sourceObject }) =>\n        `${calcErrorPrefix} ${getTypeError(sourceObject, 'source object', 'object')}`,\n    'calc:source_type': ({ source }) =>\n        `${calcErrorPrefix} ${getTypeError(source, 'source', 'object')}`,\n\n    'trigger:names_type': ({ names }) =>\n        `${eventsErrorPrefix} ${getTypeError(names, 'event name', 'string')}`,\n\n    'on:names_type': ({ names }) => errors['trigger:names_type']({ names }),\n\n    'removedatakeys:key_type': ({ key }) =>\n        `Error in removeDataKeys: ${getTypeError(key, 'key', 'string')}`,\n\n    'adddatakeys:key_type': ({ key }) =>\n        `Error in addDataKeys: ${getTypeError(key, 'key', 'string')}`,\n\n    'remove:key_type': ({ key }) =>\n        `Error in remove: ${getTypeError(key, 'key', 'string')}`,\n\n    'mediate:key_type': ({ key }) =>\n        `Error in mediate: ${getTypeError(key, 'key', 'string')}`\n};\n\nexport default function defiError(key, data) {\n    const getError = errors[key];\n    if (!getError) {\n        throw Error(`Unknown error \"${key}\". Please report about this on Github.`);\n    }\n\n    return new Error(getError(data));\n}\n","import defs from '../_core/defs';\n\n// triggers one event\nexport default function triggerOne(object, name, triggerArgs) {\n    const def = defs.get(object);\n    const events = def && def.events[name];\n\n    if (events) {\n        const l = events.length;\n        let i = 0;\n\n        // allow to pass both array of args and single arg as triggerArgs\n        if (triggerArgs instanceof Array) {\n            while (i < l) {\n                const event = triggerOne.latestEvent = events[i];\n                const { callback } = event;\n                callback.apply(object, triggerArgs);\n                i += 1;\n            }\n        } else {\n            while (i < l) {\n                const event = triggerOne.latestEvent = events[i];\n                const { callback } = event;\n                callback.call(object, triggerArgs);\n                i += 1;\n            }\n        }\n    }\n}\n\n// latestEvent is used as required hack in somemethods\ntriggerOne.latestEvent = {\n    info: {},\n    name: null\n};\n","import initDefi from '../_core/init';\nimport triggerOne from '../trigger/_triggerone';\nimport defineProp from '../_core/defineprop';\nimport domEventReg from './_domeventregexp';\n\n// property modifier event regexp\nconst propModEventReg // eslint-disable-next-line max-len\n    = /^_change:deps:|^_change:bindings:|^_change:delegated:|^_change:common:|^_change:tree:|^change:|^beforechange:/;\n\n// adds simple event listener\n// used as core of event engine\nexport default function addListener(object, name, callback, info = {}) {\n    const { events: allEvents } = initDefi(object);\n    const events = allEvents[name];\n    const event = {\n        callback, name, info\n    };\n\n    // skipChecks is used by internal methods for better performance\n    const { skipChecks = false } = info;\n\n    if (!skipChecks) {\n        const domEventExecResult = domEventReg.exec(name);\n\n        if (domEventExecResult) {\n            const [, eventName, key, selector] = domEventExecResult;\n            // fixing circular reference issue\n            const addDomListener = require('./_adddomlistener');\n\n            addDomListener(object, key, eventName, selector, callback, info);\n\n            return true;\n        }\n    }\n\n    // if there are events with the same name\n    if (events) {\n        if (!skipChecks) {\n            // if there are events with the same data, return false\n            for (let i = 0; i < events.length; i++) {\n                const existingEvent = events[i];\n                const argCallback = (callback && callback._callback) || callback;\n                const eventCallback = existingEvent.callback._callback || existingEvent.callback;\n                if (argCallback === eventCallback) {\n                    return false;\n                }\n            }\n        }\n\n        // if the event isn't found add it to the event list\n        events.push(event);\n    } else {\n        // if there are no events with the same name, create an array with only  one event\n        allEvents[name] = [event];\n    }\n\n    if (propModEventReg.test(name)) {\n        // define needed accessors for KEY\n        defineProp(object, name.replace(propModEventReg, ''));\n    }\n\n    // names prefixed by underscore mean \"private\" events\n    if (!skipChecks && name[0] !== '_') {\n        triggerOne(object, `addevent:${name}`, event);\n        triggerOne(object, 'addevent', event);\n    }\n\n    // if event is added successfully return true\n    return true;\n}\n","import defs from './defs';\n\nlet objectId = 0;\n\n// this is a common function which associates an object with its defi definition\nexport default function initDefi(object) {\n    let def = defs.get(object);\n    if (!def) {\n        def = {\n            // a property name of \"events\" object is an event name\n            // and a value is an array of event handlers\n            events: {\n                /* example: {\n                    callback: function,\n                    name: \"example\",\n                    info: { ...extra data for an event... }\n                } */\n            },\n            // \"props\" contains special information about properties (getters, setters etc)\n            props: {\n                /* example: {\n                    value: object[key],\n                    mediator: null,\n                    bindings: [{\n                        node,\n                        binder,\n                        nodeHandler,\n                        objectHandler,\n                        ...other required info\n                    }]\n                } */\n            },\n            id: objectId\n        };\n\n        objectId += 1;\n\n        defs.set(object, def);\n    }\n\n    return def;\n}\n","import defs from './defs';\nimport set from '../set';\n\n// the function defines needed descriptor for given property\nexport default function defineProp(object, key, noAccessor) {\n    const def = defs.get(object);\n\n    // if no object definition do nothing\n    if (!def) {\n        return null;\n    }\n\n    if (!def.props[key]) {\n        const propDef = def.props[key] = {\n            value: object[key],\n            mediator: null,\n            bindings: null\n        };\n\n        if (!noAccessor) {\n            Object.defineProperty(object, key, {\n                configurable: true,\n                enumerable: true,\n                get() {\n                    return propDef.value;\n                },\n                set(v) {\n                    return set(object, key, v, {\n                        fromSetter: true\n                    });\n                }\n            });\n        }\n    }\n\n    return def.props[key];\n}\n","import defs from './_core/defs';\nimport triggerOne from './trigger/_triggerone';\nimport checkObjectType from './_helpers/checkobjecttype';\nimport is from './_helpers/is';\n\n// the function sets new value for a property\n// since its performance is very critical we're checking events existence manually\nexport default function set(object, key, value, eventOptions) {\n    // throw error when object type is wrong\n    checkObjectType(object, 'set');\n\n    // if no key or falsy key is given\n    if (!key) {\n        return object;\n    }\n\n    // allow to use key-value object as another method variation\n    if (typeof key === 'object') {\n        nofn.forOwn(key, (objVal, objKey) => set(object, objKey, objVal, value));\n        return object;\n    }\n\n    eventOptions = eventOptions || {}; // eslint-disable-line no-param-reassign\n    const def = defs.get(object);\n\n    // if no object definition then make simple assignment\n    if (!def) {\n        object[key] = value;\n        return object;\n    }\n\n    const { props, events } = def;\n    const propDef = props[key];\n\n    // if no property definition then make simple assignment\n    if (!propDef) {\n        object[key] = value;\n        return object;\n    }\n\n    const { value: previousValue, mediator } = propDef;\n\n    // possible flags, all of them are falsy by default\n    const {\n        skipMediator,\n        fromMediator,\n        force,\n        forceHTML,\n        silent,\n        silentHTML,\n        skipCalc\n    } = eventOptions;\n\n    let newValue;\n\n    if (mediator && !is(value, previousValue) && !skipMediator && !fromMediator) {\n        newValue = mediator(value);\n    } else {\n        newValue = value;\n    }\n\n    const isChanged = !is(newValue, previousValue);\n\n    // add to eventOptions object some useful properties\n    // we override default eventOptions because some of the properties need to have actual values,\n    // not inherited ones (eg when calc is used)\n    const extendedEventOptions = {\n        ...eventOptions,\n        value: newValue,\n        self: object,\n        previousValue,\n        key,\n        isChanged\n    };\n\n    const triggerChange = (isChanged || force) && !silent;\n\n    // trigger beforechange:KEY and beforechange events\n    if (triggerChange) {\n        const beforechangeStr = 'beforechange';\n        const beforechangeEventName = `${beforechangeStr}:${key}`;\n\n        if (events[beforechangeEventName]) {\n            triggerOne(object, beforechangeEventName, extendedEventOptions);\n        }\n\n        if (events[beforechangeStr]) {\n            triggerOne(object, beforechangeStr, extendedEventOptions);\n        }\n    }\n\n    propDef.value = newValue;\n\n    // triger bindings\n    if (!silentHTML && (isChanged || forceHTML)) {\n        const changeBindingsEventName = `_change:bindings:${key}`;\n        if (events[changeBindingsEventName]) {\n            triggerOne(object, changeBindingsEventName, extendedEventOptions);\n        }\n    }\n\n    // trigger change:KEY and change events\n    if (triggerChange) {\n        const changeStr = 'change';\n        const changeEventName = `${changeStr}:${key}`;\n        if (events[changeEventName]) {\n            triggerOne(object, changeEventName, extendedEventOptions);\n        }\n\n        if (events[changeStr]) {\n            triggerOne(object, changeStr, extendedEventOptions);\n        }\n    }\n\n    // trigger dependencies made by calc method\n    if ((isChanged || force) && !skipCalc) {\n        const changeDepsEventName = `_change:deps:${key}`;\n        if (events[changeDepsEventName]) {\n            triggerOne(object, changeDepsEventName, extendedEventOptions);\n        }\n    }\n\n\n    if (isChanged) {\n        // trigger common delegated events logic\n        const changeDelegatedKeyEventName = `_change:delegated:${key}`;\n        if (events[changeDelegatedKeyEventName]) {\n            triggerOne(object, changeDelegatedKeyEventName, extendedEventOptions);\n        }\n\n        // trigger tree change events logic\n        const changeTreeEventName = `_change:tree:${key}`;\n        if (events[changeTreeEventName]) {\n            triggerOne(object, changeTreeEventName, extendedEventOptions);\n        }\n\n        // trigger other internal change events\n        const changeCommonEventName = `_change:common:${key}`;\n        if (events[changeCommonEventName]) {\n            triggerOne(object, changeCommonEventName, extendedEventOptions);\n        }\n\n        // trigger delegated logic for asterisk events (*.*.*@foo)\n        // TODO: Confusing events names (\"_change:delegated\", \"_change:common:KEY\" etc)\n        const changeDelegatedEventName = '_change:delegated';\n        if (events[changeDelegatedEventName]) {\n            triggerOne(object, changeDelegatedEventName, extendedEventOptions);\n        }\n    }\n\n    return object;\n}\n","// the regexp allows to parse things like \"click::x(.y)\"\n// it's shared between few modules\nexport default /([^::]+)::([^()]+)?(?:\\((.*)\\))?/;\n","import Init from './_init';\nimport parseHTML from './parsehtml';\nimport on from './on';\nimport off from './off';\nimport add from './add';\nimport assign from '../_helpers/assign';\n\n// a tiny jQuery-like library\nexport default function mq(selector, context) {\n    return new Init(selector, context);\n}\n\nmq.parseHTML = parseHTML;\n\nassign(Init.prototype, {\n    on,\n    off,\n    add\n});\n","import html2nodeList from './_html2nodelist';\n\nconst win = window;\n\n// function-constructor of mq library\n// accepts many kinds of arguments (selector, html, function)\nfunction MQInit(selector, context) {\n    let result;\n\n    if (selector) {\n        if (selector.nodeType || (typeof win === 'object' && selector === win)) {\n            result = [selector];\n        } else if (typeof selector === 'string') {\n            if (/</.test(selector)) {\n                result = html2nodeList(selector);\n            } else if (context) {\n                const newContext = (new MQInit(context))[0];\n\n                if (newContext) {\n                    result = newContext.querySelectorAll(selector);\n                }\n            } else {\n                result = win.document.querySelectorAll(selector);\n            }\n        } else if ('length' in selector) {\n            // if it's something array-like (eg NodeList)\n            result = selector;\n        } else {\n            // this is somethong another (eg Attr)\n            result = [selector];\n        }\n    }\n\n    const length = result && result.length;\n\n    if (length) {\n        for (let i = 0; i < length; i++) {\n            this.push(result[i]);\n        }\n    }\n}\n\nMQInit.prototype = [];\n\nexport default MQInit;\n","// an object allows to share data between modules; it's needed because we use\n// simplified ES modules there and cannot import and share a number\nexport default {\n    nodeIndex: 0,\n    allEvents: {}\n};\n","import addListener from '../_addlistener';\nimport changeHandler from './changehandler';\n\n// adds delegated event listener to an object by given path\n// TODO Handler uses wrong context\nexport default function delegateListener(object, givenPath, name, callback, info = {}) {\n    // if typeof path is string and path is not empty string then split it\n    let path = typeof givenPath === 'string' && givenPath !== '' ? givenPath.split('.') : givenPath;\n\n    if (!path || !path.length) {\n        // if no path then add simple listener\n        addListener(object, name, callback, info);\n    } else {\n        // else do all magic\n        const key = path[0];\n        let pathStr; // needed for undelegation\n\n        if (path.length > 1) {\n            path = nofn.slice(path, 1);\n            pathStr = path.join('.');\n        } else {\n            path = [];\n            pathStr = path[0] || '';\n        }\n\n        const delegatedData = {\n            path,\n            name,\n            callback,\n            info,\n            object\n        };\n\n        // the event is triggered by \"set\"\n        addListener(object, `_change:delegated:${key}`, changeHandler, {\n            delegatedData,\n            pathStr\n        });\n\n        // call handler manually\n        changeHandler({\n            value: object[key]\n        }, delegatedData);\n    }\n}\n","import defs from '../_core/defs';\nimport removeListener from './_removelistener';\n\n// the function removes internally used events such as _asterisk:add\nfunction detatchDelegatedLogic({\n    delegatedEventName,\n    pathStr,\n    allEvents\n}) {\n    const retain = [];\n    const events = allEvents[delegatedEventName];\n\n    nofn.forEach(events, (event) => {\n        // pathStr is assigned to info in delegateListener\n        if (event.info.pathStr !== pathStr) {\n            retain.push(event);\n        }\n    });\n\n    if (retain.length) {\n        allEvents[delegatedEventName] = retain;\n    } else {\n        delete allEvents[delegatedEventName];\n    }\n}\n\n// removes delegated event listener from an object by given path\nexport default function undelegateListener(object, givenPath, name, callback, info = {}) {\n    const def = defs.get(object);\n\n    // if no definition do nothing\n    if (!def) {\n        return;\n    }\n\n    const { events: allEvents } = def;\n\n    let path = typeof givenPath === 'string' && givenPath !== '' ? givenPath.split('.') : givenPath;\n\n    if (!path || !path.length) {\n        // if no path then remove listener\n        removeListener(object, name, callback, info);\n    } else {\n        // else do all magic\n        const key = path[0];\n        let pathStr;\n\n        if (path.length > 1) {\n            path = nofn.slice(path, 1);\n            pathStr = path.join('.');\n        } else {\n            path = [];\n            pathStr = path[0] || '';\n        }\n\n\n        const delegatedChangeEvtName = `_change:delegated:${key}`;\n        if (allEvents[delegatedChangeEvtName]) {\n            detatchDelegatedLogic({\n                delegatedEventName: delegatedChangeEvtName,\n                pathStr,\n                allEvents\n            });\n        }\n\n        if (typeof object[key] === 'object') {\n            undelegateListener(object[key], path, name, callback, info);\n        }\n    }\n}\n","import defs from '../_core/defs';\nimport triggerOne from '../trigger/_triggerone';\nimport domEventReg from '../on/_domeventregexp';\n\n// removes simple event listener from an object\nexport default function removeListener(object, name, callback, info) {\n    const def = defs.get(object);\n\n    // if no definition do nothing\n    if (!def) {\n        return false;\n    }\n\n    const { events: allEvents } = def;\n    const events = allEvents[name];\n    const retain = [];\n    const noTrigger = name ? name[0] === '_' : false;\n    const domEventExecResult = domEventReg.exec(name);\n\n    if (domEventExecResult) {\n        const [, eventName, key, selector] = domEventExecResult;\n        // fixing circular reference issue\n        const removeDomListener = require('./_removedomlistener');\n\n        removeDomListener(object, key, eventName, selector, callback, info);\n\n        return true;\n    }\n\n    // if all events need to be removed\n    if (typeof name === 'undefined') {\n        if (!noTrigger) {\n            nofn.forOwn(allEvents, (allEventsItem, allEventsName) => {\n                nofn.forEach(allEventsItem, (event) => {\n                    const removeEventData = {\n                        allEventsName,\n                        callback: event.callback\n                    };\n\n                    triggerOne(object, `removeevent:${name}`, removeEventData);\n                    triggerOne(object, 'removeevent', removeEventData);\n                });\n            });\n        }\n\n        // restore default value of \"events\"\n        def.events = {};\n    } else if (events) {\n        // if events with given name are found\n        nofn.forEach(events, (event) => {\n            const argCallback = (callback && callback._callback) || callback;\n            const eventCallback = event.callback._callback || event.callback;\n\n            if (argCallback && argCallback !== eventCallback) {\n                // keep event\n                retain.push(event);\n            } else {\n                const removeEventData = {\n                    name,\n                    callback: event.callback\n                };\n\n                if (!noTrigger) {\n                    triggerOne(object, `removeevent:${name}`, removeEventData);\n                    triggerOne(object, 'removeevent', removeEventData);\n                }\n            }\n        });\n\n        if (retain.length) {\n            allEvents[name] = retain;\n        } else {\n            delete def.events[name];\n        }\n    }\n\n    return false;\n}\n","// allows to split by spaces not inclusing ones inside of brackers\nexport default /\\s+(?![^(]*\\))/g;\n","// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds.\n// (c) https://davidwalsh.name/javascript-debounce-function\n\nexport default function debounce(func, givenDelay, thisArg) {\n    let timeout;\n    let delay;\n    if (typeof givenDelay !== 'number') {\n        thisArg = givenDelay; // eslint-disable-line no-param-reassign\n        delay = 0;\n    } else {\n        delay = givenDelay || 0;\n    }\n\n    return function debounced() {\n        const args = arguments;\n        const callContext = thisArg || this;\n\n        clearTimeout(timeout);\n\n        timeout = setTimeout(() => func.apply(callContext, args), delay);\n    };\n}\n","// converts HTML string to NodeList instance\nexport default function html2nodeList(givenHTML) {\n    // wrapMap is taken from jQuery\n    const wrapMap = {\n        option: [1, '<select multiple=\"multiple\">', '</select>'],\n        legend: [1, '<fieldset>', '</fieldset>'],\n        thead: [1, '<table>', '</table>'],\n        tr: [2, '<table><tbody>', '</tbody></table>'],\n        td: [3, '<table><tbody><tr>', '</tr></tbody></table>'],\n        col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n        area: [1, '<map>', '</map>'],\n        _: [0, '', '']\n    };\n\n    const html = givenHTML.replace(/^\\s+|\\s+$/g, '');\n    let node = window.document.createElement('div');\n    let i;\n\n    wrapMap.optgroup = wrapMap.option;\n    wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\n    wrapMap.th = wrapMap.td;\n\n    const ex = /<([\\w:]+)/.exec(html);\n    const wrapper = (ex && wrapMap[ex[1]]) || wrapMap._;\n\n    node.innerHTML = wrapper[1] + html + wrapper[2];\n\n    i = wrapper[0];\n\n    while (i) {\n        i -= 1;\n        node = node.children[0];\n    }\n\n    return node.childNodes;\n}\n","const Router = require('./router');\n\nfunction router(obj, route, type) {\n    Router[type || 'hash'].subscribe(obj, route);\n    return obj;\n}\n\nmodule.exports = router;\n","const calc = require('defi/calc');\nconst on = require('defi/on');\nconst trigger = require('defi/trigger');\nconst set = require('defi/set');\n\nfunction handleHashChange(router) {\n    set(router, 'hashPath', window.location.hash, {\n        hashEvent: true\n    });\n}\n\nfunction handlePopStateChange(router) {\n    set(router, 'path', window.location.pathname, {\n        popEvent: true\n    });\n}\n\nclass Router {\n    parts = [];\n\n    path = '/';\n\n    hashPath = '!#/';\n\n    constructor(type) {\n        // singletone pattern for history and hash router\n        /* istanbul ignore if */\n        if (type in Router) {\n            return Router[type];\n        }\n\n        this.type = type;\n\n        return this;\n    }\n\n\n    init() {\n        if (this.initialized) {\n            return this;\n        }\n\n        const { type } = this;\n\n        calc(this, {\n            parts: {\n                source: 'path',\n                handler(path) {\n                    const fixed = path.replace(/\\/\\//g, '/')\n                        .replace(/^\\/|\\/$/g, '');\n\n                    return fixed ? fixed.split('/') : [];\n                }\n            },\n            path: {\n                source: 'parts',\n                handler(parts) {\n                    const nonEmptyParts = [];\n\n                    for (let i = 0; i < parts.length; i++) {\n                        if (parts[i]) {\n                            nonEmptyParts.push(parts[i]);\n                        } else {\n                            break;\n                        }\n                    }\n\n                    return nonEmptyParts.length ? (`/${nonEmptyParts.join('/')}/`) : '/';\n                }\n            }\n        }, { debounceCalc: false });\n\n        calc(this, {\n            hashPath: {\n                source: 'path',\n                handler(path) {\n                    return path && path !== '/' ? `#!${path}` : '';\n                }\n            },\n            path: {\n                source: 'hashPath',\n                handler(hashPath) {\n                    return hashPath ? hashPath.replace(/^#!/, '') : '';\n                }\n            }\n        }, { debounceCalc: false });\n\n        on(this, 'change:parts', (evt) => {\n            const { value, previousValue } = evt;\n            let equals = value.length === previousValue.length;\n\n            if (equals) {\n                for (let i = 0; i < value.length; i++) {\n                    if (value[i] !== previousValue[i]) {\n                        equals = false;\n                        break;\n                    }\n                }\n            }\n\n            if (!equals) {\n                trigger(this, 'pathchange');\n            }\n        });\n\n        if (typeof window !== 'undefined') {\n            const { history, location } = window;\n\n            if (type === 'hash') {\n                handleHashChange(this);\n\n                window.addEventListener('hashchange', () => handleHashChange(this));\n\n                on(this, 'change:hashPath', (evt) => {\n                    if (!evt || !evt.hashEvent) {\n                        location.hash = this.hashPath;\n                    }\n                }, { triggerOnInit: true, debounce: true });\n            } else if (type === 'history') {\n                handlePopStateChange(this);\n\n                window.addEventListener('popstate', (evt) => {\n                    if (evt.state && evt.state.validPush) {\n                        handlePopStateChange(this);\n                    }\n                });\n\n                on(this, 'change:path', (evt) => {\n                    if (!evt || !evt.popEvent) {\n                        history.pushState({\n                            validPush: true\n                        }, '', this.path + location.hash);\n                    }\n                }, { triggerOnInit: true, debounce: true });\n            }\n        }\n\n        this.initialized = true;\n\n        return this;\n    }\n\n    subscribe(obj, route) {\n        const keys = route.replace(/\\/\\//g, '/').replace(/^\\/|\\/$/g, '').split('/');\n        const changeEvents = [];\n        const filteredKeys = keys.filter(key => key !== '*');\n        const parts = [];\n\n        this.init();\n\n        for (let i = 0; i < filteredKeys.length; i++) {\n            const key = filteredKeys[i];\n            changeEvents.push(`change:${key}`);\n        }\n\n        on(obj, changeEvents, (evt) => {\n            if (evt && evt.routeSilent) {\n                return;\n            }\n\n            const values = [];\n\n            for (let i = 0; i < keys.length; i++) {\n                const value = keys[i] === '*' ? this.parts[i] : obj[keys[i]];\n\n                if (value) {\n                    values.push(value);\n                } else {\n                    break;\n                }\n            }\n\n            this.parts = values;\n        });\n\n        for (let i = 0; i < keys.length; i++) {\n            parts.push(obj[keys[i]] === '*' ? this.parts[i] : obj[keys[i]] || this.parts[i]);\n        }\n\n        for (let i = 0; i < keys.length; i++) {\n            if (typeof obj[keys[i]] === 'undefined' && this.parts[i] && keys[i] !== '*') {\n                set(obj, keys[i], this.parts[i], {\n                    routeSilent: true\n                });\n            }\n        }\n\n        on(this, 'pathchange', () => {\n            for (let i = 0; i < keys.length; i++) {\n                if (keys[i] !== '*') {\n                    set(obj, keys[i], this.parts[i] || null, {\n                        routeSilent: true\n                    });\n                }\n            }\n        });\n\n        this.parts = parts;\n\n        return this;\n    }\n}\n\nRouter.history = new Router('history');\nRouter.hash = new Router('hash');\n\nmodule.exports = Router;\n","import initDefi from '../_core/init';\nimport checkObjectType from '../_helpers/checkobjecttype';\nimport defiError from '../_helpers/defierror';\nimport debounce from '../_helpers/debounce';\nimport addSource from './_addsource';\nimport createCalcHandler from './_createcalchandler';\nimport defineProp from '../_core/defineprop';\n\n// defines a property which is dependend on other properties\nexport default function calc(object, target, sources, givenHandler, eventOptions) {\n    // throw error when object type is wrong\n    checkObjectType(object, 'calc');\n\n    if (target instanceof Object) {\n        /*\n         * accept an object\n         * this.calc({target: { source, handler, event } }, commonEventOptions);\n         */\n        nofn.forOwn(target, ({\n            source: itemSource,\n            handler: itemHandler,\n            event: itemEventOptions\n        }, itemTarget) => {\n            const commonEventOptions = sources;\n            const mergedEventOptions = {};\n\n            if (commonEventOptions) {\n                // extend event object by \"global\" event\n                nofn.assign(mergedEventOptions, commonEventOptions);\n            }\n\n            if (itemEventOptions) {\n                // extend event object by \"local\" event (\"event\" key of an object)\n                nofn.assign(mergedEventOptions, itemEventOptions);\n            }\n\n            calc(object, itemTarget, itemSource, itemHandler, mergedEventOptions);\n        });\n\n        return object;\n    }\n\n    if (typeof target !== 'string') {\n        throw defiError('calc:target_type', { target });\n    }\n\n    eventOptions = eventOptions || {}; // eslint-disable-line no-param-reassign\n    const def = initDefi(object);\n    const {\n        setOnInit = true,\n        debounceCalcOnInit = false,\n        debounceCalc = true,\n        debounceCalcDelay = 0,\n        // the next option is used to hide a property for internal use (eg in bindings parser)\n        // hidden property means no accessors\n        isTargetPropertyHidden = false\n    } = eventOptions;\n    const defaultHandler = value => value;\n    const handler = givenHandler || defaultHandler;\n    const allSources = [];\n    const syncCalcHandler = createCalcHandler({\n        object,\n        eventOptions,\n        allSources,\n        target,\n        def,\n        handler\n    });\n\n    let debouncedCalcHandler;\n    let calcHandler;\n\n    if (debounceCalcOnInit || debounceCalc) {\n        debouncedCalcHandler = debounce(syncCalcHandler, debounceCalcDelay);\n    }\n\n    defineProp(object, target, isTargetPropertyHidden);\n\n    if (!(sources instanceof Array)) {\n        sources = [sources]; // eslint-disable-line no-param-reassign\n    }\n\n    if (debounceCalc) {\n        calcHandler = debouncedCalcHandler;\n    } else {\n        calcHandler = syncCalcHandler;\n    }\n\n    nofn.forEach(sources, (source) => {\n        if (typeof source === 'string') {\n            // source object is current object\n            addSource({\n                calcHandler,\n                allSources,\n                sourceKey: source,\n                sourceObject: object,\n                eventOptions\n            });\n        } else {\n            // source object is external object\n            if (!source || typeof source !== 'object') {\n                throw defiError('calc:source_type', { source });\n            }\n\n            const sourceKey = source.key;\n            const sourceObject = source.object;\n            if (sourceKey instanceof Array) {\n                // many keys are passed\n                nofn.forEach(sourceKey, (sourceKeyItem) => {\n                    addSource({\n                        calcHandler,\n                        allSources,\n                        sourceKey: sourceKeyItem,\n                        sourceObject,\n                        eventOptions\n                    });\n                });\n            } else {\n                // one key is passed\n                addSource({\n                    calcHandler,\n                    allSources,\n                    sourceKey,\n                    sourceObject,\n                    eventOptions\n                });\n            }\n        }\n    });\n\n    if (setOnInit) {\n        if (debounceCalcOnInit) {\n            debouncedCalcHandler();\n        } else {\n            syncCalcHandler();\n        }\n    }\n\n    return object;\n}\n","import addListener from '../on/_addlistener';\nimport addTreeListener from '../on/_addtreelistener';\nimport defiError from '../_helpers/defierror';\n\n// adds a source to a source list and adds needed event listener to a it\nexport default function addSource({\n    calcHandler,\n    allSources,\n    sourceKey,\n    sourceObject,\n    eventOptions\n}) {\n    let { exactKey = false } = eventOptions;\n    let isDelegated = false;\n\n    // source key must be a string\n    if (typeof sourceKey !== 'string') {\n        throw defiError('calc:source_key_type', { sourceKey });\n    }\n\n    // source object must be an object\n    if (!sourceObject || typeof sourceObject !== 'object') {\n        throw defiError('calc:source_object_type', { sourceObject });\n    }\n\n    if (!exactKey) {\n        const deepPath = sourceKey.split('.');\n\n        // if something like a.b.c is used as a key\n        if (deepPath.length > 1) {\n            isDelegated = true;\n            // TODO: Avoid collisions with bindings by using another event name\n            // ... instead of _change:tree:xxx\n            addTreeListener(sourceObject, deepPath, calcHandler);\n        } else {\n            exactKey = true;\n        }\n    }\n\n\n    if (exactKey) {\n        // normal handler\n        addListener(sourceObject, `_change:deps:${sourceKey}`, calcHandler);\n    }\n\n    allSources.push({\n        sourceKey,\n        sourceObject,\n        isDelegated\n    });\n}\n","// determines whether two values are the same value\n/* istanbul ignore next */\n// eslint-disable-next-line\nconst isPolyfill = (v1, v2) => v1 === 0 && v2 === 0 ? 1 / v1 === 1 / v2 : v1 !== v1 && v2 !== v2 || v1 === v2;\n\nexport default Object.is || isPolyfill;\n","import initDefi from '../_core/init';\nimport defineProp from '../_core/defineprop';\nimport addListener from './_addlistener';\nimport $ from '../_mq';\nimport createDomEventHandler from './_createdomeventhandler';\n\n// returns an object with event handlers used at addDomListener\nfunction createBindingHandlers({\n    fullEventName,\n    domEventHandler,\n    selector\n}) {\n    return {\n        bindHandler(evt = {}) {\n            const { node } = evt;\n            if (node) {\n                $(node).on(fullEventName, selector, domEventHandler);\n            }\n        },\n        unbindHandler(evt = {}) {\n            const { node } = evt;\n            if (node) {\n                $(node).off(fullEventName, selector, domEventHandler);\n            }\n        }\n    };\n}\n\n// adds DOM event listener for nodes bound to given property\nexport default function addDomListener(object, key, eventName, selector, callback, info) {\n    const def = initDefi(object);\n    const propDef = defineProp(object, key);\n\n    const domEventHandler = createDomEventHandler({\n        key,\n        object,\n        callback\n    });\n\n    // making possible to remove this event listener\n    domEventHandler._callback = callback;\n\n    const eventNamespace = def.id + key;\n    const fullEventName = `${eventName}.${eventNamespace}`;\n    const { bindHandler, unbindHandler } = createBindingHandlers({\n        fullEventName,\n        domEventHandler,\n        selector\n    });\n    const addBindListenerResult\n        = addListener(object, `bind:${key}`, bindHandler, info);\n    const addUnbindListenerResult\n        = addListener(object, `unbind:${key}`, unbindHandler, info);\n\n    // if events are added successfully then run bindHandler for every node immediately\n    // TODO: Describe why do we need addBindListenerResult and addUnbindListenerResult\n    if (addBindListenerResult && addUnbindListenerResult) {\n        const { bindings } = propDef;\n        if (bindings) {\n            nofn.forEach(bindings, ({ node }) => bindHandler({ node }));\n        }\n    }\n\n    return object;\n}\n","import html2nodeList from './_html2nodelist';\nimport Init from './_init';\n\n// parses given HTML and returns mq instance\nexport default function parseHTML(html) {\n    return new Init(html2nodeList(html));\n}\n","import data from './_data';\n\nconst splitBySpaceReg = /\\s+/;\nconst splitByDotReg = /\\.(.+)/;\nconst randomID = `${Math.random().toString().replace('0.', 'x')}y`; // x12345y\n\n// checks an element against a selector\nfunction is(node, selector) {\n    return (node.matches\n            || node.webkitMatchesSelector\n            || node.mozMatchesSelector\n            || node.msMatchesSelector\n            || node.oMatchesSelector).call(node, selector);\n}\n\n// the function is used when a selector is given\nfunction delegateHandler(evt, selector, handler) {\n    const scopeSelector = `[${randomID}=\"${randomID}\"] `;\n    const splittedSelector = selector.split(',');\n\n    let matching = '';\n\n    for (let i = 0; i < splittedSelector.length; i++) {\n        const sel = splittedSelector[i];\n        matching += `${i === 0 ? '' : ','}${scopeSelector}${sel},${scopeSelector}${sel} *`;\n    }\n\n\n    this.setAttribute(randomID, randomID);\n\n    if (is(evt.target, matching)) {\n        handler.call(this, evt);\n    }\n\n    this.removeAttribute(randomID);\n}\n\n// adds event listener to a set of elemnts\nexport default function on(namesStr, selector, handler) {\n    const names = namesStr.split(splitBySpaceReg);\n    let delegate;\n\n    if (typeof selector === 'function') {\n        handler = selector; // eslint-disable-line no-param-reassign\n        selector = null; // eslint-disable-line no-param-reassign\n    }\n\n    if (selector) {\n        delegate = function uniqueDelegateHandler(evt) {\n            delegateHandler.call(this, evt, selector, handler);\n        };\n    }\n\n    for (let i = 0; i < names.length; i++) {\n        const [name, namespace] = names[i].split(splitByDotReg);\n\n        for (let j = 0; j < this.length; j++) {\n            const node = this[j];\n            const nodeID = node.b$ = node.b$ || ++data.nodeIndex; // eslint-disable-line no-plusplus\n            const events = data.allEvents[name + nodeID] = data.allEvents[name + nodeID] || [];\n\n            let exist = false;\n\n            for (let k = 0; k < events.length; k++) {\n                const event = events[k];\n\n                if (handler === event.handler && (!selector || selector === event.selector)) {\n                    exist = true;\n                    break;\n                }\n            }\n\n            if (!exist) {\n                events.push({\n                    delegate,\n                    handler,\n                    namespace,\n                    selector,\n                    nodeID,\n                    name\n                });\n\n                node.addEventListener(name, delegate || handler, false);\n            }\n        }\n    }\n\n    return this;\n}\n","import data from './_data';\n\nconst splitBySpaceReg = /\\s+/;\nconst splitByDotReg = /\\.(.+)/;\n\n// removes event handler from a set of elements\nexport default function off(namesStr, selector, handler) {\n    if (typeof selector === 'function') {\n        handler = selector; // eslint-disable-line no-param-reassign\n        selector = null; // eslint-disable-line no-param-reassign\n    }\n\n    const names = namesStr.split(splitBySpaceReg);\n\n    for (let i = 0; i < names.length; i++) {\n        const [name, namespace] = names[i].split(splitByDotReg);\n\n        for (let j = 0; j < this.length; j++) {\n            const node = this[j];\n\n            if (!name && namespace) {\n                for (let k = 0, keys = Object.keys(data.allEvents); k < keys.length; k++) {\n                    const events = data.allEvents[keys[k]];\n\n                    for (let l = 0; l < events.length; l++) {\n                        const event = events[i];\n                        if (event.namespace === namespace && event.nodeID === node.b$) {\n                            node.removeEventListener(event.name, event.delegate || event.handler);\n                            events.splice(l, 1);\n                            l -= 1;\n                        }\n                    }\n                }\n\n                continue;\n            }\n\n            const events = data.allEvents[name + node.b$];\n            if (events) {\n                for (let k = 0; k < events.length; k++) {\n                    const event = events[k];\n                    if (\n                        (!handler || handler === event.handler || handler === event.delegate)\n                        && (!namespace || namespace === event.namespace)\n                        && (!selector || selector === event.selector)\n                    ) {\n                        node.removeEventListener(name, event.delegate || event.handler);\n                        events.splice(k, 1);\n                        k -= 1;\n                    }\n                }\n            } else if (!namespace && !selector) {\n                node.removeEventListener(name, handler);\n            }\n        }\n    }\n\n    return this;\n}\n","import Init from './_init';\nimport data from './_data';\n\n// adds unique nodes to mq collection\nexport default function add(selector) {\n    const idMap = {};\n\n    let result;\n\n    const nodes = new Init(selector);\n\n    if (this.length) {\n        result = new Init();\n        for (let i = 0; i < this.length; i++) {\n            const node = this[i];\n            const nodeID = node.b$ = node.b$ || ++data.nodeIndex; // eslint-disable-line no-plusplus\n            idMap[nodeID] = 1;\n            result.push(node);\n        }\n\n        for (let i = 0; i < nodes.length; i++) {\n            const node = nodes[i];\n            const nodeID = node.b$ = node.b$ || ++data.nodeIndex; // eslint-disable-line no-plusplus\n            if (!idMap[nodeID]) {\n                idMap[nodeID] = 1;\n                result.push(node);\n            }\n        }\n    } else {\n        result = nodes;\n    }\n\n    return result;\n}\n","// Object.assign polyfyll\n/* istanbul ignore next */\nconst assign = Object.assign || function assign(target) {\n    /* istanbul ignore next */\n    if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert variable to object');\n    }\n\n    const output = Object(target);\n\n    for (let index = 1; index < arguments.length; index++) {\n        const source = arguments[index];\n        if (source !== undefined && source !== null) {\n            nofn.forOwn(source, (nextValue, nextKey) => {\n                output[nextKey] = nextValue;\n            });\n        }\n    }\n\n    return output;\n};\n\nexport default assign;\n","// returns DOM event handler\nexport default function createDomEventHandler({\n    key,\n    object,\n    callback\n}) {\n    return function domEventHandler(domEvent) {\n        const originalEvent = domEvent.originalEvent || domEvent;\n        // defiTriggerArgs are created when DOM event is triggered by trigger method\n        const triggerArgs = originalEvent.defiTriggerArgs;\n        const {\n            which, target, ctrlKey, altKey\n        } = domEvent;\n\n        if (triggerArgs) {\n            // if args are passed to trigger method then pass them to an event handler\n            callback.apply(object, triggerArgs);\n        } else {\n            // use the following object as an arg for event handler\n            callback.call(object, {\n                self: object,\n                node: this,\n                preventDefault: () => domEvent.preventDefault(),\n                stopPropagation: () => domEvent.stopPropagation(),\n                key,\n                domEvent,\n                originalEvent,\n                which,\n                target,\n                ctrlKey,\n                altKey\n            });\n        }\n    };\n}\n","import delegateListener from './_delegatelistener';\nimport removeTreeListener from '../off/_removetreelistener';\n\n// creates tree listener\nfunction createTreeListener({ handler, restPath }) {\n    const newHandler = function treeListener(changeEvent) {\n        const extendedChangeEvent = {\n            restPath,\n            ...changeEvent\n        };\n        const { previousValue, value } = changeEvent;\n\n        // removes listener for all branches of the path on old object\n        if (previousValue && typeof previousValue === 'object') {\n            removeTreeListener(previousValue, restPath, handler);\n        }\n\n        // adds listener for all branches of \"restPath\" path on newly assigned object\n        if (value && typeof value === 'object') {\n            addTreeListener(value, restPath, handler);\n        }\n\n        // call original handler\n        handler.call(this, extendedChangeEvent);\n    };\n\n    newHandler._callback = handler;\n\n    return newHandler;\n}\n\n// listens changes for all branches of given path\n// one of the most hard functions to understand\nexport default function addTreeListener(object, deepPath, handler) {\n    if (typeof deepPath === 'string') {\n        deepPath = deepPath.split('.'); // eslint-disable-line no-param-reassign\n    }\n\n    // iterate over all keys and delegate listener for all objects of given branch\n    for (let i = 0; i < deepPath.length; i++) {\n        // TODO: Array.prototype.slice method is slow\n        const listenPath = deepPath.slice(0, i);\n        const restPath = deepPath.slice(i + 1);\n\n        delegateListener(\n            object,\n            listenPath,\n            `_change:tree:${deepPath[i]}`,\n            createTreeListener({\n                handler,\n                restPath\n            })\n        );\n    }\n}\n","import undelegateListener from '../../off/_undelegatelistener';\nimport triggerOne from '../../trigger/_triggerone';\n\n// the function is called when some part of a path is changed\n// it delegates event listener for new branch of an object and undelegates it for old one\n// used for non-asterisk events\nexport default function changeHandler({\n    previousValue,\n    value\n}, {\n    path,\n    name,\n    callback,\n    info\n} = triggerOne.latestEvent.info.delegatedData) {\n    if (value && typeof value === 'object') {\n        const delegateListener = require('./'); // fixing circular ref\n\n        delegateListener(value, path, name, callback, info);\n    }\n\n    if (previousValue && typeof previousValue === 'object') {\n        undelegateListener(previousValue, path, name, callback, info);\n    }\n}\n","import defs from '../_core/defs';\nimport removeListener from './_removelistener';\nimport $ from '../_mq';\n\n// removes dom listener from nodes bound to given key\nexport default function removeDomListener(\n    object,\n    key,\n    eventName,\n    selector,\n    callback,\n    info\n) {\n    const def = defs.get(object);\n\n    if (!def) {\n        return object;\n    }\n\n    const { props } = def;\n    const propDef = props[key];\n\n    if (!propDef) {\n        return object;\n    }\n\n    const { bindings } = propDef;\n\n    if (bindings) {\n        // collect bound nodes and remove DOM event listener\n        const nodes = Array(bindings.length);\n        const eventNamespace = def.id + key;\n\n        nofn.forEach(bindings, (binding, index) => {\n            nodes[index] = binding.node;\n        });\n\n        $(nodes).off(`${eventName}.${eventNamespace}`, selector, callback);\n    }\n\n    // remove bind and unbind listeners from given key\n    removeListener(object, `bind:${key}`, callback, info);\n    removeListener(object, `unbind:${key}`, callback, info);\n\n    return object;\n}\n","import undelegateListener from './_undelegatelistener';\n\n// removes tree listener from all object tree of fiven path\nexport default function removeTreeListener(object, deepPath, handler) {\n    if (typeof deepPath === 'string') {\n        deepPath = deepPath.split('.'); // eslint-disable-line no-param-reassign\n    }\n\n    // iterate over keys of the path and undelegate given handler (can be undefined)\n    for (let i = 0; i < deepPath.length; i++) {\n        // TODO: Array.prototype.slice is slow\n        const listenedPath = deepPath.slice(0, i);\n\n        undelegateListener(\n            object,\n            listenedPath,\n            `_change:tree:${deepPath[i]}`,\n            handler\n        );\n    }\n}\n","import set from '../set';\nimport deepFind from '../_helpers/deepfind';\n\n// creates event handler for target object which will be fired when a source is changed\nexport default function createCalcHandler({\n    object,\n    eventOptions,\n    allSources,\n    target,\n    def,\n    handler\n}) {\n    return function calcHandler(changeEvent = {}) {\n        const values = [];\n        const { protector = {} } = changeEvent;\n        const protectKey = target + def.id;\n        const { promiseCalc } = eventOptions;\n        const setEventOptions = {\n            protector,\n            ...eventOptions,\n            ...changeEvent\n        };\n\n        if (protectKey in protector) {\n            return;\n        }\n\n        protector[protectKey] = true;\n\n        nofn.forEach(allSources, ({\n            sourceObject,\n            sourceKey,\n            isDelegated\n        }) => {\n            const value = isDelegated ? deepFind(sourceObject, sourceKey) : sourceObject[sourceKey];\n            values.push(value);\n        });\n\n        let targetValue = handler.apply(object, values);\n\n        if (promiseCalc) {\n            if (!(targetValue instanceof Promise)) {\n                targetValue = Promise.resolve(targetValue);\n            }\n\n            targetValue\n                .then(promiseResult => set(object, target, promiseResult, setEventOptions))\n                .catch((e) => {\n                    throw Error(e);\n                });\n        } else {\n            set(object, target, targetValue, setEventOptions);\n        }\n    };\n}\n","// gets value of a property in nested object\n// eg \"d\" from a.b.c.d\nexport default function deepFind(obj, givenPath) {\n    const paths = typeof givenPath === 'string' ? givenPath.split('.') : givenPath;\n    let current = obj;\n\n    for (let i = 0; i < paths.length; ++i) {\n        if (typeof current[paths[i]] === 'undefined') {\n            return undefined;\n        }\n\n        current = current[paths[i]];\n    }\n\n    return current;\n}\n","import splitBySpaceReg from './_splitbyspaceregexp';\nimport checkObjectType from '../_helpers/checkobjecttype';\nimport defiError from '../_helpers/defierror';\nimport off from '../off';\nimport debounce from '../_helpers/debounce';\nimport addListener from './_addlistener';\nimport delegateListener from './_delegatelistener';\n\n// adds event listener\nexport default function on(object, givenNames, givenCallback, options) {\n    // throw error when object type is wrong\n    checkObjectType(object, 'on');\n\n    const isNamesVarArray = givenNames instanceof Array;\n\n    // allow to pass name-handler object\n    if (givenNames && typeof givenNames === 'object' && !isNamesVarArray) {\n        nofn.forOwn(givenNames, (namesObjCallback, namesObjName) =>\n            on(object, namesObjName, namesObjCallback, givenCallback, options));\n        return object;\n    }\n\n    if (typeof givenNames !== 'string' && !isNamesVarArray) {\n        throw defiError('on:names_type', { names: givenNames });\n    }\n\n    // split by spaces\n    // TODO: Array of names passed to on method is a non-documented feature\n    const names = isNamesVarArray ? givenNames : givenNames.split(splitBySpaceReg);\n\n    const { triggerOnInit, once, debounce: debounceOption } = options || {};\n    let callback;\n    if (once) {\n        callback = function onceCallback() {\n            givenCallback.apply(this, arguments);\n            // remove event listener after its call\n            off(object, names, onceCallback);\n        };\n\n        // allow to remove event listener py passing original callback to \"off\"\n        callback._callback = givenCallback;\n    } else if (typeof debounceOption === 'number' || debounceOption === true) {\n        callback = debounce(givenCallback, debounceOption === true ? 0 : debounceOption, object);\n    } else {\n        callback = givenCallback;\n    }\n\n    nofn.forEach(names, (name) => {\n        const delegatedEventParts = name.split('@');\n\n        if (delegatedEventParts.length > 1) {\n            // if @ exists in event name then this is delegated event\n            const [path, delegatedName] = delegatedEventParts;\n            delegateListener(object, path, delegatedName, callback);\n        } else {\n            // if not, this is simple event\n            addListener(object, name, callback);\n        }\n    });\n\n    // call callback immediatelly if triggerOnInit is true\n    if (triggerOnInit) {\n        callback.call(object, options);\n    }\n\n    return object;\n}\n","import splitBySpaceReg from '../on/_splitbyspaceregexp';\nimport checkObjectType from '../_helpers/checkobjecttype';\nimport defs from '../_core/defs';\nimport removeListener from './_removelistener';\nimport undelegateListener from './_undelegatelistener';\nimport $ from '../_mq';\n\n// removes event listener\nexport default function off(object, givenNames, callback) {\n    // throw error when object type is wrong\n    checkObjectType(object, 'off');\n\n    const isNamesVarArray = givenNames instanceof Array;\n    const def = defs.get(object);\n\n    // allow to pass name-handler object\n    // TODO: Name-handler object passed to off method is non-documented feature\n    if (givenNames && typeof givenNames === 'object' && !isNamesVarArray) {\n        nofn.forOwn(givenNames, (namesObjCallback, namesObjName) =>\n            off(object, namesObjName, namesObjCallback, callback));\n        return object;\n    }\n\n\n    if (!givenNames && !callback) {\n        def.events = {};\n\n        nofn.forOwn(def.props, ({ bindings }, propName) => {\n            if (bindings) {\n                nofn.forEach(bindings, ({ node }) => {\n                    const eventNamespace = def.id + propName;\n                    $(node).off(`.${eventNamespace}`);\n                });\n            }\n        });\n\n        return object;\n    }\n\n    // TODO: Array of names passed to off method is non-documented feature\n    // split by spaces\n    const names = isNamesVarArray ? givenNames : givenNames.split(splitBySpaceReg);\n\n    nofn.forEach(names, (name) => {\n        const delegatedEventParts = name.split('@');\n        if (delegatedEventParts.length > 1) {\n            const [path, delegatedName] = delegatedEventParts;\n            undelegateListener(object, path, delegatedName, callback);\n        } else {\n            removeListener(object, name, callback);\n        }\n    });\n\n    return object;\n}\n","import domEventReg from '../on/_domeventregexp';\nimport checkObjectType from '../_helpers/checkobjecttype';\nimport defiError from '../_helpers/defierror';\nimport splitBySpaceReg from '../on/_splitbyspaceregexp';\nimport defs from '../_core/defs';\nimport triggerOne from './_triggerone';\nimport triggerDomEvent from './_triggerdomevent';\n\n// triggers an event\nexport default function trigger(object, givenNames, ...triggerArgs) {\n    // throw error when object type is wrong\n    checkObjectType(object, 'trigger');\n    let names;\n\n    // allow to use strings only as event name\n    if (typeof givenNames === 'string') {\n        names = givenNames.split(splitBySpaceReg);\n    } else {\n        throw defiError('trigger:names_type', { names: givenNames });\n    }\n\n    const def = defs.get(object);\n\n    // if no definition do nothing\n    if (!def) {\n        return object;\n    }\n\n    const { events: allEvents } = def;\n\n    if (!allEvents) {\n        return object;\n    }\n\n    nofn.forEach(names, (name) => {\n        const domEvtExecResult = domEventReg.exec(name);\n\n        if (domEvtExecResult) {\n            // if EVT::KEY(SELECTOR) ia passed as event name then trigger DOM event\n            const [, eventName, key, selector] = domEvtExecResult;\n            triggerDomEvent(object, key, eventName, selector, triggerArgs);\n        } else {\n            // trigger ordinary event\n            triggerOne(object, name, triggerArgs);\n        }\n    });\n\n    return object;\n}\n","import triggerOneDOMEvent from './_triggeronedomevent';\nimport defs from '../_core/defs';\n\n// triggers DOM event on bound nodes\nexport default function triggerDOMEvent(object, key, eventName, selector, triggerArgs) {\n    const def = defs.get(object);\n\n    if (!def) {\n        return;\n    }\n\n    const { props } = def;\n    const propDef = props[key];\n\n    if (!propDef) {\n        return;\n    }\n\n    const { bindings } = propDef;\n\n    if (!bindings) {\n        return;\n    }\n\n    nofn.forEach(bindings, ({ node }) => {\n        if (selector) {\n            // if selector is given trigger an event on all node descendants\n            const descendants = node.querySelectorAll(selector);\n            nofn.forEach(descendants, (descendant) => {\n                triggerOneDOMEvent({\n                    node: descendant,\n                    eventName,\n                    triggerArgs\n                });\n            });\n        } else {\n            // trigger an event for single node\n            triggerOneDOMEvent({\n                node,\n                eventName,\n                triggerArgs\n            });\n        }\n    });\n}\n","// triggers given DOM event on given node\nexport default function triggerOneDOMEvent({\n    node,\n    eventName,\n    triggerArgs\n}) {\n    const { Event } = window;\n    const event = new Event(eventName, {\n        bubbles: true,\n        cancelable: true\n    });\n\n    // defiTriggerArgs will be used in a handler created by addDOMListener\n    event.defiTriggerArgs = triggerArgs;\n\n    node.dispatchEvent(event);\n}\n"],"sourceRoot":""}